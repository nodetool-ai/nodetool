<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workflow Runner Demo</title>
    <link rel="stylesheet" href="./styles/styles.css">
</head>

<body>
    <h1>Workflow Runner Demo</h1>
    <div class="container">
        <div class="left-container">
            <div class="inputs-container">
                <form id="tokenForm">
                    <label for="token">Auth Token:</label>
                    <input type="text" id="token" required>
                    <button type="submit" id="loadWorkflowsBtn">Load Workflows</button>
                </form>

                <form id="workflowForm" style="display: none;">
                    <div id="workflowSelectContainer">
                        <label for="workflowSearch">Search Workflows:</label>
                        <input type="text" id="workflowSearch" placeholder="Type to search...">
                        <div id="workflowList"></div>
                    </div>

                    <div id="dynamicInputs"></div>

                    <button type="submit" id="runWorkflowBtn">Run Workflow</button>
                </form>

                <div id="progressContainer" style="display: none;">
                    <h3>Progress:</h3>
                    <div class="progress-bar">
                        <span class="progress-bar-fill" style="width: 0%;"></span>
                    </div>
                    <p id="progressText">0%</p>
                </div>
            </div>
        </div>

        <div class="middle-container">
            <div class="results-container">
                <div id="results"></div>
            </div>
        </div>

        <div class="right-container">
            <button id="toggleLogsBtn">Hide Logs</button>
            <div class="logs-container">
                <div id="output">
                    <h3>Output:</h3>
                    <pre id="outputContent"></pre>
                </div>

                <div id="wsMessages">
                    <h3>WebSocket Messages:</h3>
                    <pre id="wsContent"></pre>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/msgpack5/5.3.2/msgpack5.min.js"></script>
    <script src="./js/utils.js"></script>
    <script src="./js/ui.js"></script>
    <script src="./js/workflow-runner.js"></script>
    <script src="./js/main.js"></script>
</body>

</html>