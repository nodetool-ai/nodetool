<!DOCTYPE html>
<html>
  <head>
    <meta
      http-equiv="Content-Security-Policy"
      content="
      default-src 'self';
      script-src 'self' 'unsafe-inline';
      style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
      font-src 'self' https://fonts.gstatic.com;
      frame-src 'self' http://127.0.0.1:8000;
      media-src 'self' mediadevices: *;
      connect-src 'self' http://127.0.0.1:8000 mediadevices: *;
      child-src 'self' http://127.0.0.1:8000;
    "
    />
    <meta
      http-equiv="Permissions-Policy"
      content="
      microphone=*,
      camera=*,
      display-capture=*,
      fullscreen=*,
      midi=*,
    "
    />
    <title>Nodetool</title>
    <style>
      @font-face {
        font-family: "Inter";
        font-style: normal;
        font-weight: 200;
        src: url("./assets/Inter-ExtraLight.woff2") format("woff2");
      }
      @font-face {
        font-family: "Inter";
        font-style: normal;
        font-weight: 400;
        src: url("./assets/Inter-Regular.woff2") format("woff2");
      }
      @font-face {
        font-family: "Inter";
        font-style: normal;
        font-weight: 500;
        src: url("./assets/Inter-Medium.woff2") format("woff2");
      }
      @font-face {
        font-family: "Inter";
        font-style: normal;
        font-weight: 600;
        src: url("./assets/Inter-SemiBold.woff2") format("woff2");
      }
      @font-face {
        font-family: "Inter";
        font-style: normal;
        font-weight: 700;
        src: url("./assets/Inter-Bold.woff2") format("woff2");
      }
    </style>
    <link rel="stylesheet" href="src/index.css" />
  </head>
  <body>
    <div id="boot-message">
      <svg
        class="nodetool-icon"
        width="396"
        height="404"
        viewBox="0 0 396 404"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          class="path-1"
          d="M128 176.5L195.5 139L70.5 70L2.5 108L1 112V403L126 323V180L128 176.5Z"
          fill="#2E2E2E"
        />
        <path
          class="path-2"
          d="M394.5 403L267.5 323V180L394.5 108V403Z"
          fill="#2E2E2E"
        />
        <path
          class="path-3"
          d="M394.5 108L195 1L70 69.5L268 179L394.5 108Z"
          fill="#2E2E2E"
        />
        <path
          class="path-4"
          d="M195.5 138.5L69.3451 70L3.5 107L127 176.5L195.5 138.5Z"
          fill="#2E2E2E"
        />
        <path
          class="path-5"
          d="M394.5 108V403L267.5 323V180L394.5 108ZM394.5 108L195 1L70 69.5L268 179L394.5 108ZM195.5 139L128 176.5L126 180V323L1 403V112L2.5 108L70.5 70L195.5 139ZM69.3451 70L195.5 138.5L127 176.5L3.5 107L69.3451 70Z"
          stroke="white"
          stroke-width="2"
          stroke-linejoin="round"
        />
      </svg>

      <div class="boot-text"></div>
      <div id="update-steps">
        <div class="progress-container">
          <div class="progress-label">
            <span class="action-label"></span>
            <span>
              <span class="progress-percentage">0%</span>
              <span class="progress-eta"></span>
            </span>
          </div>
          <div class="progress-bar">
            <div class="progress"></div>
          </div>
        </div>
      </div>
    </div>
    <div id="install-location-prompt" style="display: none">
      <div id="environment-info">
        <h2>NodeTool Setup</h2>

        <!-- Step 1: Install Location -->
        <div id="step-location" class="setup-step active">
          <div class="step-header">
            <h3>Step 1: Choose Installation Location</h3>
            <p>Where would you like to install NodeTool?</p>
          </div>
          <div class="location-options">
            <button class="location-button default-location">
              <span>üìÅ Install to Default Location</span>
              <span class="location-path"></span>
            </button>
            <button class="location-button custom-location">
              <span>üîç Install to Custom Location</span>
            </button>
          </div>
        </div>

        <!-- Step 2: Package Selection -->
        <div id="step-packages" class="setup-step">
          <div class="step-header">
            <h3>Step 2: Choose Packages</h3>
            <p>Select the packages you'd like to install:</p>
          </div>

          <div class="package-selection">
            <!-- Base Package -->
            <div class="package-card base">
              <div class="package-header">
                <h4>üì¶ Base Package</h4>
                <span class="required-badge">Required</span>
              </div>
            </div>

            <!-- Optional Packages -->
            <div class="package-grid">
              <!-- AI & ML Package Group -->
              <div class="package-group">
                <h4>ü§ñ AI & Machine Learning</h4>
                <div class="package-options">
                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="huggingface" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>HuggingFace</h4>
                        </div>
                        <p>Text, Image, and Audio models from HuggingFace</p>
                      </div>
                    </div>
                  </label>

                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="comfy" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>ComfyUI</h4>
                        </div>
                        <p>Image and Video generation</p>
                      </div>
                    </div>
                  </label>

                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="ml" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>Machine Learning</h4>
                        </div>
                        <p>
                          Classification, Regression, and statistical models
                        </p>
                      </div>
                    </div>
                  </label>
                </div>
              </div>

              <!-- Cloud AI Services -->
              <div class="package-group">
                <h4>‚òÅÔ∏è AI Services</h4>
                <div class="package-options">
                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="openai" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>OpenAI</h4>
                        </div>
                        <p>
                          Integration with ChatGPT, DALL-E, and other OpenAI
                          services
                        </p>
                      </div>
                    </div>
                  </label>

                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="anthropic" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>Anthropic</h4>
                        </div>
                        <p>Access to Claude and other Anthropic AI models</p>
                      </div>
                    </div>
                  </label>

                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="elevenlabs" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>ElevenLabs</h4>
                        </div>
                        <p>Advanced text-to-speech and voice cloning</p>
                      </div>
                    </div>
                  </label>
                </div>
              </div>

              <!-- Utilities -->
              <div class="package-group">
                <h4>üõ†Ô∏è Utilities</h4>
                <div class="package-options">
                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="data" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>Data Processing</h4>
                        </div>
                        <p>Tools for data manipulation and analysis</p>
                      </div>
                    </div>
                  </label>

                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="audio" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>Audio Processing</h4>
                        </div>
                        <p>Audio manipulation and analysis tools</p>
                      </div>
                    </div>
                  </label>

                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="image" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>Image Processing</h4>
                        </div>
                        <p>Image manipulation and analysis utilities</p>
                      </div>
                    </div>
                  </label>
                </div>
              </div>

              <!-- Integrations -->
              <div class="package-group">
                <h4>üîå Integrations</h4>
                <div class="package-options">
                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="google" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>Google</h4>
                        </div>
                        <p>Integration with Google services and APIs</p>
                      </div>
                    </div>
                  </label>

                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="apple" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>Apple</h4>
                        </div>
                        <p>Automation for Apple products and services</p>
                      </div>
                    </div>
                  </label>

                  <label class="package-option">
                    <div class="checkbox-wrapper">
                      <input type="checkbox" name="chroma" />
                    </div>
                    <div class="package-content">
                      <div class="package-info">
                        <div class="package-header">
                          <h4>Chroma</h4>
                        </div>
                        <p>Vector database integration for AI applications</p>
                      </div>
                    </div>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <div class="navigation-buttons">
            <button class="nav-button back">‚Üê Back</button>
            <button class="nav-button next">Install ‚Üí</button>
          </div>
        </div>
      </div>
    </div>
    <div id="log-container" class="collapsed">
      <div id="log-controls">
        <button id="log-toggle" class="log-button">
          <span>‚ñº Show Log</span>
        </button>
        <button id="open-log-file" class="log-button">
          <span aria-label="Open Log File">üìÅ</span>
        </button>
        <div
          id="update-notification"
          style="
            display: none;
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 5px;
            z-index: 1000;
          "
        >
          <p style="margin: 0; color: white">A new version is available!</p>
          <a
            id="release-link"
            href="#"
            style="
              color: #4a9eff;
              text-decoration: none;
              display: inline-block;
              margin-top: 5px;
            "
          >
            View Release Notes
          </a>
        </div>
      </div>
      <div id="log"></div>
    </div>
    <script type="module" src="src/index.ts"></script>
  </body>
</html>
