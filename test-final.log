Running web tests...
cd web && npm test

> nodetool@0.6.3-rc.5 test
> jest

PASS src/components/hugging_face/model_list/__tests__/useModelCompatibility.test.ts
PASS src/utils/__tests__/TypeHandler.test.ts
PASS src/hooks/handlers/__tests__/useConnectionHandlers.test.ts
  ‚óè Console

    console.warn
      Invalid source or target node { source: 'nonexistent', target: 'target' }

    [0m [90m 110 |[39m       [36mconst[39m targetNode [33m=[39m findNode(target)[33m;[39m
     [90m 111 |[39m       [36mif[39m ([33m![39msourceNode [33m||[39m [33m![39mtargetNode) {
    [31m[1m>[22m[39m[90m 112 |[39m         console[33m.[39mwarn([32m"Invalid source or target node"[39m[33m,[39m { source[33m,[39m target })[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 113 |[39m         [36mreturn[39m[33m;[39m
     [90m 114 |[39m       }
     [90m 115 |[39m       [36mif[39m ([33m![39msourceHandle [33m||[39m [33m![39mtargetHandle) {[0m

      at Object.handleOnConnect (src/hooks/handlers/useConnectionHandlers.ts:112:17)
      at Object.<anonymous> (src/hooks/handlers/__tests__/useConnectionHandlers.test.ts:561:22)

    console.warn
      Invalid source or target node { source: 'source', target: 'target' }

    [0m [90m 110 |[39m       [36mconst[39m targetNode [33m=[39m findNode(target)[33m;[39m
     [90m 111 |[39m       [36mif[39m ([33m![39msourceNode [33m||[39m [33m![39mtargetNode) {
    [31m[1m>[22m[39m[90m 112 |[39m         console[33m.[39mwarn([32m"Invalid source or target node"[39m[33m,[39m { source[33m,[39m target })[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 113 |[39m         [36mreturn[39m[33m;[39m
     [90m 114 |[39m       }
     [90m 115 |[39m       [36mif[39m ([33m![39msourceHandle [33m||[39m [33m![39mtargetHandle) {[0m

      at Object.handleOnConnect (src/hooks/handlers/useConnectionHandlers.ts:112:17)
      at Object.<anonymous> (src/hooks/handlers/__tests__/useConnectionHandlers.test.ts:576:22)

PASS src/stores/__tests__/NodeStore.test.ts
  ‚óè Console

    console.warn
      Node with id a already exists

    [0m [90m 551 |[39m           addNode[33m:[39m (node[33m:[39m [33mNode[39m[33m<[39m[33mNodeData[39m[33m>[39m)[33m:[39m [36mvoid[39m [33m=>[39m {
     [90m 552 |[39m             [36mif[39m ([36mget[39m()[33m.[39mfindNode(node[33m.[39mid)) {
    [31m[1m>[22m[39m[90m 553 |[39m               log[33m.[39mwarn([32m`Node with id ${node.id} already exists`[39m)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 554 |[39m               [36mreturn[39m[33m;[39m
     [90m 555 |[39m             }
     [90m 556 |[39m             node[33m.[39mexpandParent [33m=[39m [36mtrue[39m[33m;[39m[0m

      at Object.addNode (src/stores/NodeStore.ts:553:19)
      at Object.<anonymous> (src/stores/__tests__/NodeStore.test.ts:153:22)

    console.warn
      Cannot add edge a-b: edge validation failed {
        id: 'a-b',
        source: 'a',
        target: 'b',
        sourceHandle: null,
        targetHandle: null
      }

    [0m [90m 705 |[39m
     [90m 706 |[39m             [36mif[39m ([33m![39misValidEdge(edge[33m,[39m nodeMap[33m,[39m metadata)) {
    [31m[1m>[22m[39m[90m 707 |[39m               log[33m.[39mwarn(
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 708 |[39m                 [32m`Cannot add edge ${edge.id}: edge validation failed`[39m[33m,[39m
     [90m 709 |[39m                 edge
     [90m 710 |[39m               )[33m;[39m[0m

      at Object.addEdge (src/stores/NodeStore.ts:707:19)
      at Object.<anonymous> (src/stores/__tests__/NodeStore.test.ts:173:22)

    console.warn
      Cannot add edge nonexistent-b: source or target node not found

    [0m [90m 694 |[39m
     [90m 695 |[39m             [36mif[39m ([33m![39msourceNode [33m||[39m [33m![39mtargetNode) {
    [31m[1m>[22m[39m[90m 696 |[39m               log[33m.[39mwarn(
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 697 |[39m                 [32m`Cannot add edge ${edge.id}: source or target node not found`[39m
     [90m 698 |[39m               )[33m;[39m
     [90m 699 |[39m               [36mreturn[39m[33m;[39m[0m

      at Object.addEdge (src/stores/NodeStore.ts:696:19)
      at Object.<anonymous> (src/stores/__tests__/NodeStore.test.ts:274:22)

    console.warn
      Cannot add edge a-nonexistent: source or target node not found

    [0m [90m 694 |[39m
     [90m 695 |[39m             [36mif[39m ([33m![39msourceNode [33m||[39m [33m![39mtargetNode) {
    [31m[1m>[22m[39m[90m 696 |[39m               log[33m.[39mwarn(
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 697 |[39m                 [32m`Cannot add edge ${edge.id}: source or target node not found`[39m
     [90m 698 |[39m               )[33m;[39m
     [90m 699 |[39m               [36mreturn[39m[33m;[39m[0m

      at Object.addEdge (src/stores/NodeStore.ts:696:19)
      at Object.<anonymous> (src/stores/__tests__/NodeStore.test.ts:284:22)

    console.warn
      Cannot add edge a-b: edge validation failed {
        id: 'a-b',
        source: 'a',
        target: 'b',
        sourceHandle: 'invalid_output',
        targetHandle: 'input1'
      }

    [0m [90m 705 |[39m
     [90m 706 |[39m             [36mif[39m ([33m![39misValidEdge(edge[33m,[39m nodeMap[33m,[39m metadata)) {
    [31m[1m>[22m[39m[90m 707 |[39m               log[33m.[39mwarn(
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 708 |[39m                 [32m`Cannot add edge ${edge.id}: edge validation failed`[39m[33m,[39m
     [90m 709 |[39m                 edge
     [90m 710 |[39m               )[33m;[39m[0m

      at Object.addEdge (src/stores/NodeStore.ts:707:19)
      at Object.<anonymous> (src/stores/__tests__/NodeStore.test.ts:352:22)

    console.warn
      Cannot add edge a-b: edge validation failed {
        id: 'a-b',
        source: 'a',
        target: 'b',
        sourceHandle: 'output1',
        targetHandle: 'invalid_input'
      }

    [0m [90m 705 |[39m
     [90m 706 |[39m             [36mif[39m ([33m![39misValidEdge(edge[33m,[39m nodeMap[33m,[39m metadata)) {
    [31m[1m>[22m[39m[90m 707 |[39m               log[33m.[39mwarn(
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 708 |[39m                 [32m`Cannot add edge ${edge.id}: edge validation failed`[39m[33m,[39m
     [90m 709 |[39m                 edge
     [90m 710 |[39m               )[33m;[39m[0m

      at Object.addEdge (src/stores/NodeStore.ts:707:19)
      at Object.<anonymous> (src/stores/__tests__/NodeStore.test.ts:364:22)

    console.warn
      Edge a-b references invalid source handle "invalid_output" on node a (type: test). Available outputs: output1. Removing edge.

    [0m [90m 123 |[39m       [36mif[39m ([33m![39msourceHasValidHandle) {
     [90m 124 |[39m         [36mconst[39m sourceDynamicOutputs [33m=[39m sourceNode[33m.[39mdata[33m.[39mdynamic_outputs [33m||[39m {}[33m;[39m
    [31m[1m>[22m[39m[90m 125 |[39m         log[33m.[39mwarn(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 126 |[39m           [32m`Edge ${edge.id} references invalid source handle "${[39m
     [90m 127 |[39m [32m            edge.sourceHandle[39m
     [90m 128 |[39m [32m          }" on node ${edge.source} (type: ${[39m[0m

      at src/core/workflow/graphMapping.ts:125:13
          at Array.filter (<anonymous>)
      at sanitizeGraph (src/core/workflow/graphMapping.ts:76:32)
      at limit (src/stores/NodeStore.ts:240:79)
      at configWithTemporal (node_modules/zundo/src/index.ts:94:12)
      at createStoreImpl (node_modules/zustand/vanilla.js:41:30)
      at Function.createStore (node_modules/zustand/vanilla.js:45:24)
      at createImpl (node_modules/zustand/index.js:29:57)
      at createNodeStore (src/stores/NodeStore.ts:222:27)
      at Object.<anonymous> (src/stores/__tests__/NodeStore.test.ts:584:28)

    console.warn
      Edge a-b references invalid source handle "invalid_output" on node a (type: test). Available outputs: output1. Removing edge.

    [0m [90m 123 |[39m       [36mif[39m ([33m![39msourceHasValidHandle) {
     [90m 124 |[39m         [36mconst[39m sourceDynamicOutputs [33m=[39m sourceNode[33m.[39mdata[33m.[39mdynamic_outputs [33m||[39m {}[33m;[39m
    [31m[1m>[22m[39m[90m 125 |[39m         log[33m.[39mwarn(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 126 |[39m           [32m`Edge ${edge.id} references invalid source handle "${[39m
     [90m 127 |[39m [32m            edge.sourceHandle[39m
     [90m 128 |[39m [32m          }" on node ${edge.source} (type: ${[39m[0m

      at src/core/workflow/graphMapping.ts:125:13
          at Array.filter (<anonymous>)
      at sanitizeGraph (src/core/workflow/graphMapping.ts:76:32)
      at limit (src/stores/NodeStore.ts:240:79)
      at configWithTemporal (node_modules/zundo/src/index.ts:94:12)
      at createStoreImpl (node_modules/zustand/vanilla.js:41:30)
      at Function.createStore (node_modules/zustand/vanilla.js:45:24)
      at createImpl (node_modules/zustand/index.js:29:57)
      at createNodeStore (src/stores/NodeStore.ts:222:27)
      at Object.<anonymous> (src/stores/__tests__/NodeStore.test.ts:634:28)

    console.warn
      Edge a-b references invalid target handle "invalid_input" on node b (type: test). Available properties: input1. Removing edge.

    [0m [90m 135 |[39m       } [36melse[39m [36mif[39m ([33m![39mtargetHasValidHandle) {
     [90m 136 |[39m         [36mconst[39m dynamicProperties [33m=[39m targetNode[33m.[39mdata[33m.[39mdynamic_properties [33m||[39m {}[33m;[39m
    [31m[1m>[22m[39m[90m 137 |[39m         log[33m.[39mwarn(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 138 |[39m           [32m`Edge ${edge.id} references invalid target handle "${[39m
     [90m 139 |[39m [32m            edge.targetHandle[39m
     [90m 140 |[39m [32m          }" on node ${edge.target} (type: ${[39m[0m

      at src/core/workflow/graphMapping.ts:137:13
          at Array.filter (<anonymous>)
      at sanitizeGraph (src/core/workflow/graphMapping.ts:76:32)
      at limit (src/stores/NodeStore.ts:240:79)
      at configWithTemporal (node_modules/zundo/src/index.ts:94:12)
      at createStoreImpl (node_modules/zustand/vanilla.js:41:30)
      at Function.createStore (node_modules/zustand/vanilla.js:45:24)
      at createImpl (node_modules/zustand/index.js:29:57)
      at createNodeStore (src/stores/NodeStore.ts:222:27)
      at Object.<anonymous> (src/stores/__tests__/NodeStore.test.ts:634:28)

PASS src/stores/__tests__/reactFlowNodeToGraphNode.test.ts
PASS src/hooks/nodes/__tests__/useNodeContextMenu.test.ts
PASS src/stores/__tests__/customEquality.test.ts
PASS src/utils/__tests__/nodeSearch.test.ts
  ‚óè Console

    console.log
      [PERF] computeSearchResults with 500 nodes: 18.88ms

      at Object.<anonymous> (src/utils/__tests__/nodeSearch.test.ts:573:15)

    console.log
      [PERF] computeSearchResults with 2000 nodes: 65.77ms

      at Object.<anonymous> (src/utils/__tests__/nodeSearch.test.ts:586:15)

    console.log
      [PERF] performGroupedSearch (prefix tree) with 1000 nodes: 38.49ms

      at Object.<anonymous> (src/utils/__tests__/nodeSearch.test.ts:608:15)

    console.log
      [PERF] performGroupedSearch (fuse fallback) with 1000 nodes: 29.70ms

      at Object.<anonymous> (src/utils/__tests__/nodeSearch.test.ts:631:15)

    console.log
      [PERF] Average search time for 5 queries: 3.18ms

      at Object.<anonymous> (src/utils/__tests__/nodeSearch.test.ts:665:15)

PASS src/__tests__/performance/componentPerformance.test.tsx
  ‚óè Console

    console.log
      [PERF] Bad selector: 2 renders, Good selector: 1 renders

      at Object.<anonymous> (src/__tests__/performance/componentPerformance.test.tsx:121:15)

    console.log
      [PERF] Reduction: 50.0%

      at Object.<anonymous> (src/__tests__/performance/componentPerformance.test.tsx:122:15)

    console.log
      [PERF] Large tree (243 components) render: 20.86ms

      at Object.<anonymous> (src/__tests__/performance/componentPerformance.test.tsx:491:15)

    console.log
      [PERF] Unmemoized: 101 renders

      at Object.<anonymous> (src/__tests__/performance/componentPerformance.test.tsx:532:15)

    console.log
      [PERF] Memoized: 1 renders

      at Object.<anonymous> (src/__tests__/performance/componentPerformance.test.tsx:533:15)

    console.log
      [PERF] Memo effectiveness: 99.0%

      at Object.<anonymous> (src/__tests__/performance/componentPerformance.test.tsx:534:15)

    console.error
      Warning: An update to Node inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at /home/runner/work/nodetool/nodetool/web/src/__tests__/performance/componentPerformance.test.tsx:561:34

    [0m [90m 550 |[39m         }))[33m,[39m
     [90m 551 |[39m         selectNode[33m:[39m (id) [33m=>[39m
    [31m[1m>[22m[39m[90m 552 |[39m           [36mset[39m((state) [33m=>[39m ({
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 553 |[39m             nodes[33m:[39m state[33m.[39mnodes[33m.[39mmap((n) [33m=>[39m
     [90m 554 |[39m               n[33m.[39mid [33m===[39m id [33m?[39m { [33m...[39mn[33m,[39m selected[33m:[39m [36mtrue[39m } [33m:[39m n
     [90m 555 |[39m             )[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom.development.js:16977:5)
      at handleStoreChange (node_modules/react-dom/cjs/react-dom.development.js:16953:7)
      at node_modules/zustand/vanilla.js:12:16
          at Set.forEach (<anonymous>)
      at setState (node_modules/zustand/vanilla.js:11:17)
      at Object.selectNode (src/__tests__/performance/componentPerformance.test.tsx:552:11)
      at Object.<anonymous> (src/__tests__/performance/componentPerformance.test.tsx:586:32)

    console.log
      [PERF] Total renders after selection: 100

      at Object.<anonymous> (src/__tests__/performance/componentPerformance.test.tsx:591:15)

PASS src/utils/__tests__/connectionValidation.integration.test.ts
PASS src/__tests__/performance/nodeComponentsPerformance.test.tsx
  ‚óè Console

    console.log
      [PERF] Set deduplication for 200 items: 0.039ms

      at Object.<anonymous> (src/__tests__/performance/nodeComponentsPerformance.test.tsx:77:15)

    console.log
      [PERF] Avoided 3 expensive comparisons

      at Object.<anonymous> (src/__tests__/performance/nodeComponentsPerformance.test.tsx:222:15)

    console.log
      [PERF] Bad approach still calls useMemo: 1 times

      at Object.<anonymous> (src/__tests__/performance/nodeComponentsPerformance.test.tsx:257:15)

    console.log
      [PERF] Good approach: 0 useMemo calls, just uses static ref

      at Object.<anonymous> (src/__tests__/performance/nodeComponentsPerformance.test.tsx:258:15)

    console.log
      [PERF] Array rebuilds: 2 (out of 3 renders)

      at Object.<anonymous> (src/__tests__/performance/nodeComponentsPerformance.test.tsx:319:15)

    console.log
      [PERF] After 10 renders: { renders: 10, arrayBuilds: 1, dynamicResolutions: 1 }

      at Object.<anonymous> (src/__tests__/performance/nodeComponentsPerformance.test.tsx:533:15)

    console.log
      [PERF] Memoization prevented 9 array rebuilds

      at Object.<anonymous> (src/__tests__/performance/nodeComponentsPerformance.test.tsx:540:15)

    console.log
      [PERF] Memoization prevented 9 dynamic resolutions

      at Object.<anonymous> (src/__tests__/performance/nodeComponentsPerformance.test.tsx:543:15)

    console.log
      [PERF] 100 nodes with 10 properties each: 0.12ms

      at Object.<anonymous> (src/__tests__/performance/nodeComponentsPerformance.test.tsx:578:13)

PASS src/hooks/__tests__/useColorConversion.test.ts
PASS src/stores/__tests__/CollectionStore.test.ts
PASS src/hooks/__tests__/useFindInWorkflow.test.ts
  ‚óè Console

    console.warn
      A function to advance timers was called but the timers APIs are not replaced with fake timers. Call `jest.useFakeTimers()` in this test file or enable fake timers for all tests by setting 'fakeTimers': {'enableGlobally': true} in Jest configuration file.
      Stack Trace:
      
          [0m [90m 505 |[39m
           [90m 506 |[39m       expect(() [33m=>[39m {
          [31m[1m>[22m[39m[90m 507 |[39m         jest[33m.[39madvanceTimersByTime([35m200[39m)[33m;[39m
           [90m     |[39m              [31m[1m^[22m[39m
           [90m 508 |[39m       })[33m.[39mnot[33m.[39mtoThrow()[33m;[39m
           [90m 509 |[39m     })[33m;[39m
           [90m 510 |[39m[0m
      
            Error: 
            at FakeTimers._checkFakeTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:158:13)
            at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:93:14)
            at src/hooks/__tests__/useFindInWorkflow.test.ts:507:14
            at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
            at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
            at Object.<anonymous> (src/hooks/__tests__/useFindInWorkflow.test.ts:508:14)

    [0m [90m 505 |[39m
     [90m 506 |[39m       expect(() [33m=>[39m {
    [31m[1m>[22m[39m[90m 507 |[39m         jest[33m.[39madvanceTimersByTime([35m200[39m)[33m;[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 508 |[39m       })[33m.[39mnot[33m.[39mtoThrow()[33m;[39m
     [90m 509 |[39m     })[33m;[39m
     [90m 510 |[39m[0m

      at FakeTimers._checkFakeTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:152:28)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:93:14)
      at src/hooks/__tests__/useFindInWorkflow.test.ts:507:14
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.<anonymous> (src/hooks/__tests__/useFindInWorkflow.test.ts:508:14)

    console.warn
      A function to advance timers was called but the timers APIs are not replaced with fake timers. Call `jest.useFakeTimers()` in this test file or enable fake timers for all tests by setting 'fakeTimers': {'enableGlobally': true} in Jest configuration file.
      Stack Trace:
      
          [0m [90m 522 |[39m       })[33m;[39m
           [90m 523 |[39m
          [31m[1m>[22m[39m[90m 524 |[39m       jest[33m.[39madvanceTimersByTime([35m200[39m)[33m;[39m
           [90m     |[39m            [31m[1m^[22m[39m
           [90m 525 |[39m
           [90m 526 |[39m       [36mconst[39m consoleSpy [33m=[39m jest[33m.[39mspyOn(console[33m,[39m [32m"error"[39m)[33m.[39mmockImplementation(() [33m=>[39m {})[33m;[39m
           [90m 527 |[39m       expect(consoleSpy)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m[0m
      
            Error: 
            at FakeTimers._checkFakeTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:158:13)
            at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:93:14)
            at Object.<anonymous> (src/hooks/__tests__/useFindInWorkflow.test.ts:524:12)

    [0m [90m 522 |[39m       })[33m;[39m
     [90m 523 |[39m
    [31m[1m>[22m[39m[90m 524 |[39m       jest[33m.[39madvanceTimersByTime([35m200[39m)[33m;[39m
     [90m     |[39m            [31m[1m^[22m[39m
     [90m 525 |[39m
     [90m 526 |[39m       [36mconst[39m consoleSpy [33m=[39m jest[33m.[39mspyOn(console[33m,[39m [32m"error"[39m)[33m.[39mmockImplementation(() [33m=>[39m {})[33m;[39m
     [90m 527 |[39m       expect(consoleSpy)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at FakeTimers._checkFakeTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:152:28)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:93:14)
      at Object.<anonymous> (src/hooks/__tests__/useFindInWorkflow.test.ts:524:12)

PASS src/stores/__tests__/AssetStore.test.ts
PASS src/stores/__tests__/graphNodeToReactFlowNode.test.ts
PASS src/stores/__tests__/MiniAppsStore.test.ts
PASS src/stores/__tests__/ConnectionStore.test.ts
PASS src/utils/__tests__/PrefixTreeSearch.test.ts
  ‚óè Console

    console.log
      [PERF] Search 100 nodes: 0.03ms

      at Object.<anonymous> (src/utils/__tests__/PrefixTreeSearch.test.ts:356:15)

    console.log
      [PERF] Search 1000 nodes: 0.05ms

      at Object.<anonymous> (src/utils/__tests__/PrefixTreeSearch.test.ts:372:15)

    console.log
      [PERF] Search 5000 nodes: 0.18ms

      at Object.<anonymous> (src/utils/__tests__/PrefixTreeSearch.test.ts:388:15)

    console.log
      [PERF] Search times for different result sizes: 0.003ms, 0.068ms, 0.300ms

      at Object.<anonymous> (src/utils/__tests__/PrefixTreeSearch.test.ts:418:15)

    console.log
      [PERF] Index 5000 nodes: 152.41ms

      at Object.<anonymous> (src/utils/__tests__/PrefixTreeSearch.test.ts:436:15)

    console.log
      [PERF] 8 searches avg: 0.03ms

      at Object.<anonymous> (src/utils/__tests__/PrefixTreeSearch.test.ts:466:15)

PASS src/stores/__tests__/GlobalChatStore.test.ts (5.467 s)
  ‚óè Console

    console.log
      Job update received: { type: 'job_update', status: 'completed', job_id: 'test-job' }

      at handleChatWebSocketMessage (src/core/chat/chatProtocol.ts:912:13)

    console.log
      Job update received: {
        type: 'job_update',
        status: 'failed',
        job_id: 'test-job',
        error: 'Something went wrong'
      }

      at handleChatWebSocketMessage (src/core/chat/chatProtocol.ts:912:13)

PASS src/hooks/__tests__/useSelectionActions.test.ts
PASS src/stores/__tests__/ResultsStore.test.ts
PASS src/utils/__tests__/handleUtils.test.ts
PASS src/__tests__/components/chat/containers/ChatView.test.tsx
PASS src/stores/__tests__/SettingsStore.test.ts
PASS src/utils/__tests__/dockviewLayout.test.ts
PASS src/stores/__tests__/FileStore.test.ts
PASS src/hooks/__tests__/useMessageQueue.test.ts
PASS src/stores/__tests__/NodeMenuStore.test.ts
PASS src/hooks/__tests__/useCopyToClipboard.test.ts
PASS src/stores/__tests__/ModelPreferencesStore.test.ts
PASS src/__tests__/components/chat/containers/GlobalChat.test.tsx
PASS src/hooks/__tests__/useAutosave.test.tsx
PASS src/stores/__tests__/RemoteSettingStore.test.ts
PASS src/utils/__tests__/findMatchingNodesInWorkflows.test.ts
PASS src/stores/__tests__/LogStore.test.ts
PASS src/hooks/__tests__/useNumberInput.test.tsx
PASS src/stores/__tests__/HfCacheStatusStore.test.ts
PASS src/hooks/handlers/__tests__/useSelectionEvents.test.ts
PASS src/utils/__tests__/graphDiff.test.ts
PASS src/stores/__tests__/ErrorStore.test.ts
PASS src/components/ui_primitives/__tests__/CircularActionButton.test.tsx
  ‚óè Console

    console.error
      Warning: Unsupported style property & .MuiCircularProgress-root. Did you mean & .MuiCircularProgressRoot?
          at button
          at default (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/__tests__/CircularActionButton.test.tsx:21:15)
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/CircularActionButton.tsx:194:9
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)

    [0m [90m 55 |[39m
     [90m 56 |[39m   it([32m"renders with icon by default"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 57 |[39m     render(
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 58 |[39m       [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 59 |[39m         [33m<[39m[33mCircularActionButton[39m icon[33m=[39m{[33m<[39m[33mMockIcon[39m [35m/>} onClick={mockOnClick} /[39m[33m>[39m
     [90m 60 |[39m       [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnHyphenatedStyleName (node_modules/react-dom/cjs/react-dom.development.js:2695:5)
      at warnValidStyle (node_modules/react-dom/cjs/react-dom.development.js:2743:7)
      at setValueForStyles (node_modules/react-dom/cjs/react-dom.development.js:2816:9)
      at setInitialDOMProperties (node_modules/react-dom/cjs/react-dom.development.js:9688:7)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9921:3)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22193:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/ui_primitives/__tests__/CircularActionButton.test.tsx:57:11)

PASS src/hooks/__tests__/useCopyFeedback.test.ts
PASS src/stores/__tests__/AssetGridStore.test.ts
PASS src/utils/__tests__/MousePosition.test.ts
PASS src/components/menus/__tests__/RemoteSettingsMenu.test.tsx
  ‚óè Console

    console.error
      Warning: React does not recognize the `startIcon` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `starticon` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
          at button
          at Button (/home/runner/work/nodetool/nodetool/web/src/components/menus/__tests__/RemoteSettingsMenu.test.tsx:28:14)
          at div
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at RemoteSettings (/home/runner/work/nodetool/nodetool/web/src/components/menus/RemoteSettingsMenu.tsx:72:37)
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)
          at QueryClientProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
          at wrapper (/home/runner/work/nodetool/nodetool/web/src/components/menus/__tests__/RemoteSettingsMenu.test.tsx:81:20)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22193:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26085:20)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at node_modules/react-dom/cjs/react-dom.development.js:25651:13
      at invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/Function.js:19:26)
      at node_modules/jsdom/lib/jsdom/browser/Window.js:554:9

PASS src/hooks/__tests__/useSelectConnected.test.ts
PASS src/hooks/__tests__/useDelayedVisibility.test.ts
PASS src/utils/__tests__/workflowOutputTypeInference.test.ts
PASS src/hooks/__tests__/useDuplicate.test.ts
PASS src/core/chat/__tests__/chatProtocol.test.ts
  ‚óè Console

    console.warn
      Unknown tool: unknown_tool

    [0m [90m 957 |[39m
     [90m 958 |[39m     [36mif[39m ([33m![39m[33mFrontendToolRegistry[39m[33m.[39mhas(name)) {
    [31m[1m>[22m[39m[90m 959 |[39m       log[33m.[39mwarn([32m`Unknown tool: ${name}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 960 |[39m       [36mtry[39m {
     [90m 961 |[39m         [36mawait[39m globalWebSocketManager[33m.[39msend({
     [90m 962 |[39m           type[33m:[39m [32m"tool_result"[39m[33m,[39m[0m

      at handleChatWebSocketMessage (src/core/chat/chatProtocol.ts:959:11)
      at Object.<anonymous> (src/core/chat/__tests__/chatProtocol.test.ts:247:37)

    console.error
      Tool execution failed for ui_fail: Error: nope
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/core/chat/__tests__/chatProtocol.test.ts:269:64)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12)

    [0m [90m 1025 |[39m       [36mconst[39m message [33m=[39m
     [90m 1026 |[39m         error [36minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mmessage [33m:[39m [32m"Unknown error"[39m[33m;[39m
    [31m[1m>[22m[39m[90m 1027 |[39m       log[33m.[39merror([32m`Tool execution failed for ${name}:`[39m[33m,[39m error)[33m;[39m
     [90m      |[39m           [31m[1m^[22m[39m
     [90m 1028 |[39m       [36mtry[39m {
     [90m 1029 |[39m         [36mawait[39m globalWebSocketManager[33m.[39msend({
     [90m 1030 |[39m           type[33m:[39m [32m"tool_result"[39m[33m,[39m[0m

      at handleChatWebSocketMessage (src/core/chat/chatProtocol.ts:1027:11)
      at Object.<anonymous> (src/core/chat/__tests__/chatProtocol.test.ts:286:5)

PASS src/utils/__tests__/providerDisplay.test.ts
PASS src/stores/__tests__/KeyPressedStore.test.ts
PASS src/components/ui_primitives/__tests__/StateIconButton.test.tsx
PASS src/utils/__tests__/getAssetThumbUrl.test.ts
PASS src/utils/__tests__/ColorUtils.test.ts
PASS src/__tests__/stop_command_basic.test.ts
PASS src/core/__tests__/graph.test.ts
PASS src/hooks/handlers/__tests__/usePaneEvents.test.ts
PASS src/components/ui_primitives/__tests__/Dialog.test.tsx
  ‚óè Console

    console.error
      Warning: React does not recognize the `fullWidth` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `fullwidth` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
          at div
          at default (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/__tests__/Dialog.test.tsx:25:15)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/Dialog.tsx:113:9
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)

    [0m [90m 313 |[39m
     [90m 314 |[39m   it([32m"passes additional dialog props to MUI Dialog"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 315 |[39m     [36mconst[39m { container } [33m=[39m render(
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 316 |[39m       [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 317 |[39m         [33m<[39m[33mDialog[39m
     [90m 318 |[39m           open[33m=[39m{[36mtrue[39m}[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22193:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/ui_primitives/__tests__/Dialog.test.tsx:315:33)

    console.error
      Warning: React does not recognize the `maxWidth` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `maxwidth` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
          at div
          at default (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/__tests__/Dialog.test.tsx:25:15)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/Dialog.tsx:113:9
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)

    [0m [90m 313 |[39m
     [90m 314 |[39m   it([32m"passes additional dialog props to MUI Dialog"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 315 |[39m     [36mconst[39m { container } [33m=[39m render(
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 316 |[39m       [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 317 |[39m         [33m<[39m[33mDialog[39m
     [90m 318 |[39m           open[33m=[39m{[36mtrue[39m}[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22193:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/ui_primitives/__tests__/Dialog.test.tsx:315:33)

PASS src/components/menus/__tests__/SecretsMenu.test.tsx
  ‚óè Console

    console.error
      Warning: React does not recognize the `fullWidth` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `fullwidth` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
          at input
          at div
          at TextField (/home/runner/work/nodetool/nodetool/web/src/components/menus/__tests__/SecretsMenu.test.tsx:24:17)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at SecretsMenu (/home/runner/work/nodetool/nodetool/web/src/components/menus/SecretsMenu.tsx:36:25)
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)
          at QueryClientProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
          at wrapper (/home/runner/work/nodetool/nodetool/web/src/components/menus/__tests__/SecretsMenu.test.tsx:118:20)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22193:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26085:20)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at node_modules/react-dom/cjs/react-dom.development.js:25651:13
      at invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/Function.js:19:26)
      at node_modules/jsdom/lib/jsdom/browser/Window.js:554:9

    console.error
      Warning: React does not recognize the `InputProps` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `inputprops` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
          at input
          at div
          at TextField (/home/runner/work/nodetool/nodetool/web/src/components/menus/__tests__/SecretsMenu.test.tsx:24:17)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at SecretsMenu (/home/runner/work/nodetool/nodetool/web/src/components/menus/SecretsMenu.tsx:36:25)
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)
          at QueryClientProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
          at wrapper (/home/runner/work/nodetool/nodetool/web/src/components/menus/__tests__/SecretsMenu.test.tsx:118:20)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22193:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26085:20)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at node_modules/react-dom/cjs/react-dom.development.js:25651:13
      at invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/Function.js:19:26)
      at node_modules/jsdom/lib/jsdom/browser/Window.js:554:9

PASS src/hooks/__tests__/useNamespaceTree.test.ts
PASS src/stores/__tests__/AudioQueueStore.test.ts
PASS src/utils/__tests__/modelNormalization.test.ts
PASS src/stores/__tests__/SecretsStore.test.ts
PASS src/components/ui_primitives/__tests__/LabeledToggle.test.tsx
PASS src/stores/__tests__/NotificationStore.test.ts
  ‚óè Console

    console.warn
      NOTIFICATION: {
        type: 'warning',
        content: 'Warning message',
        timeout: 5000,
        dismissable: true,
        alert: true
      }

    [0m [90m 54 |[39m   addNotification[33m:[39m (notification) [33m=>[39m {
     [90m 55 |[39m     [36mif[39m (notification[33m.[39mtype [33m===[39m [32m"warning"[39m) {
    [31m[1m>[22m[39m[90m 56 |[39m       log[33m.[39mwarn([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m     } [36melse[39m [36mif[39m (notification[33m.[39mtype [33m===[39m [32m"error"[39m) {
     [90m 58 |[39m       log[33m.[39merror([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m 59 |[39m     } [36melse[39m {[0m

      at Object.addNotification (src/stores/NotificationStore.ts:56:11)
      at src/stores/__tests__/NotificationStore.test.ts:63:41
      at node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.<anonymous> (src/stores/__tests__/NotificationStore.test.ts:62:10)

    console.error
      NOTIFICATION: { type: 'error', content: 'error notification' }

    [0m [90m 56 |[39m       log[33m.[39mwarn([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m 57 |[39m     } [36melse[39m [36mif[39m (notification[33m.[39mtype [33m===[39m [32m"error"[39m) {
    [31m[1m>[22m[39m[90m 58 |[39m       log[33m.[39merror([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     } [36melse[39m {
     [90m 60 |[39m       log[33m.[39minfo([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m 61 |[39m     }[0m

      at Object.addNotification (src/stores/NotificationStore.ts:58:11)
      at src/stores/__tests__/NotificationStore.test.ts:92:43
          at Array.forEach (<anonymous>)
      at src/stores/__tests__/NotificationStore.test.ts:91:15
      at node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.<anonymous> (src/stores/__tests__/NotificationStore.test.ts:90:10)

    console.warn
      NOTIFICATION: { type: 'warning', content: 'warning notification' }

    [0m [90m 54 |[39m   addNotification[33m:[39m (notification) [33m=>[39m {
     [90m 55 |[39m     [36mif[39m (notification[33m.[39mtype [33m===[39m [32m"warning"[39m) {
    [31m[1m>[22m[39m[90m 56 |[39m       log[33m.[39mwarn([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m     } [36melse[39m [36mif[39m (notification[33m.[39mtype [33m===[39m [32m"error"[39m) {
     [90m 58 |[39m       log[33m.[39merror([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m 59 |[39m     } [36melse[39m {[0m

      at Object.addNotification (src/stores/NotificationStore.ts:56:11)
      at src/stores/__tests__/NotificationStore.test.ts:92:43
          at Array.forEach (<anonymous>)
      at src/stores/__tests__/NotificationStore.test.ts:91:15
      at node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.<anonymous> (src/stores/__tests__/NotificationStore.test.ts:90:10)

    console.warn
      NOTIFICATION: { type: 'warning', content: 'Second' }

    [0m [90m 54 |[39m   addNotification[33m:[39m (notification) [33m=>[39m {
     [90m 55 |[39m     [36mif[39m (notification[33m.[39mtype [33m===[39m [32m"warning"[39m) {
    [31m[1m>[22m[39m[90m 56 |[39m       log[33m.[39mwarn([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 57 |[39m     } [36melse[39m [36mif[39m (notification[33m.[39mtype [33m===[39m [32m"error"[39m) {
     [90m 58 |[39m       log[33m.[39merror([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m 59 |[39m     } [36melse[39m {[0m

      at Object.addNotification (src/stores/NotificationStore.ts:56:11)
      at src/stores/__tests__/NotificationStore.test.ts:194:41
      at node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.<anonymous> (src/stores/__tests__/NotificationStore.test.ts:189:10)

    console.error
      NOTIFICATION: { type: 'error', content: 'Third' }

    [0m [90m 56 |[39m       log[33m.[39mwarn([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m 57 |[39m     } [36melse[39m [36mif[39m (notification[33m.[39mtype [33m===[39m [32m"error"[39m) {
    [31m[1m>[22m[39m[90m 58 |[39m       log[33m.[39merror([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     } [36melse[39m {
     [90m 60 |[39m       log[33m.[39minfo([32m"NOTIFICATION:"[39m[33m,[39m notification)[33m;[39m
     [90m 61 |[39m     }[0m

      at Object.addNotification (src/stores/NotificationStore.ts:58:11)
      at src/stores/__tests__/NotificationStore.test.ts:198:41
      at node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.<anonymous> (src/stores/__tests__/NotificationStore.test.ts:189:10)

PASS src/hooks/__tests__/useWorkflowActions.test.ts
  ‚óè Console

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 46 |[39m       [36mif[39m (loadingExampleId) {[36mreturn[39m[33m;[39m}
     [90m 47 |[39m
    [31m[1m>[22m[39m[90m 48 |[39m       setLoadingExampleId(example[33m.[39mid)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 49 |[39m       [36mtry[39m {
     [90m 50 |[39m         [36mconst[39m tags [33m=[39m example[33m.[39mtags [33m||[39m [][33m;[39m
     [90m 51 |[39m         [36mif[39m ([33m![39mtags[33m.[39mincludes([32m"example"[39m)) {[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at Object.handleExampleClick (src/hooks/useWorkflowActions.ts:48:7)
      at Object.<anonymous> (src/hooks/__tests__/useWorkflowActions.test.ts:138:28)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 46 |[39m       [36mif[39m (loadingExampleId) {[36mreturn[39m[33m;[39m}
     [90m 47 |[39m
    [31m[1m>[22m[39m[90m 48 |[39m       setLoadingExampleId(example[33m.[39mid)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 49 |[39m       [36mtry[39m {
     [90m 50 |[39m         [36mconst[39m tags [33m=[39m example[33m.[39mtags [33m||[39m [][33m;[39m
     [90m 51 |[39m         [36mif[39m ([33m![39mtags[33m.[39mincludes([32m"example"[39m)) {[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at Object.handleExampleClick (src/hooks/useWorkflowActions.ts:48:7)
      at Object.<anonymous> (src/hooks/__tests__/useWorkflowActions.test.ts:157:28)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 46 |[39m       [36mif[39m (loadingExampleId) {[36mreturn[39m[33m;[39m}
     [90m 47 |[39m
    [31m[1m>[22m[39m[90m 48 |[39m       setLoadingExampleId(example[33m.[39mid)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 49 |[39m       [36mtry[39m {
     [90m 50 |[39m         [36mconst[39m tags [33m=[39m example[33m.[39mtags [33m||[39m [][33m;[39m
     [90m 51 |[39m         [36mif[39m ([33m![39mtags[33m.[39mincludes([32m"example"[39m)) {[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at Object.handleExampleClick (src/hooks/useWorkflowActions.ts:48:7)
      at Object.<anonymous> (src/hooks/__tests__/useWorkflowActions.test.ts:171:28)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 46 |[39m       [36mif[39m (loadingExampleId) {[36mreturn[39m[33m;[39m}
     [90m 47 |[39m
    [31m[1m>[22m[39m[90m 48 |[39m       setLoadingExampleId(example[33m.[39mid)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 49 |[39m       [36mtry[39m {
     [90m 50 |[39m         [36mconst[39m tags [33m=[39m example[33m.[39mtags [33m||[39m [][33m;[39m
     [90m 51 |[39m         [36mif[39m ([33m![39mtags[33m.[39mincludes([32m"example"[39m)) {[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at Object.handleExampleClick (src/hooks/useWorkflowActions.ts:48:7)
      at Object.<anonymous> (src/hooks/__tests__/useWorkflowActions.test.ts:231:28)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 46 |[39m       [36mif[39m (loadingExampleId) {[36mreturn[39m[33m;[39m}
     [90m 47 |[39m
    [31m[1m>[22m[39m[90m 48 |[39m       setLoadingExampleId(example[33m.[39mid)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 49 |[39m       [36mtry[39m {
     [90m 50 |[39m         [36mconst[39m tags [33m=[39m example[33m.[39mtags [33m||[39m [][33m;[39m
     [90m 51 |[39m         [36mif[39m ([33m![39mtags[33m.[39mincludes([32m"example"[39m)) {[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at Object.handleExampleClick (src/hooks/useWorkflowActions.ts:48:7)
      at Object.<anonymous> (src/hooks/__tests__/useWorkflowActions.test.ts:240:28)

PASS src/stores/__tests__/ColorPickerStore.test.ts
PASS src/utils/__tests__/colorConversion.test.ts
PASS src/utils/__tests__/groupByDate.test.ts
PASS src/utils/__tests__/isUrlAccessible.test.ts
PASS src/__tests__/components/chat/composer/MessageInput.test.tsx
PASS src/hooks/nodes/__tests__/useDynamicOutput.test.ts
PASS src/hooks/__tests__/useJobReconnection.test.tsx
  ‚óè Console

    console.error
      Failed to fetch workflow workflow-1 for job job-1: { detail: 'Workflow not found' }

    [0m [90m 43 |[39m
     [90m 44 |[39m           [36mif[39m (error [33m||[39m [33m![39mworkflow) {
    [31m[1m>[22m[39m[90m 45 |[39m             log[33m.[39merror(
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 46 |[39m               [32m`Failed to fetch workflow ${job.workflow_id} for job ${job.id}:`[39m[33m,[39m
     [90m 47 |[39m               error
     [90m 48 |[39m             )[33m;[39m[0m

      at src/hooks/useJobReconnection.ts:45:17

    console.error
      Error reconnecting to job job-1: TypeError: runnerStore.setState is not a function
          at /home/runner/work/nodetool/nodetool/web/src/hooks/useJobReconnection.ts:72:25

    [0m [90m 84 |[39m           )[33m;[39m
     [90m 85 |[39m         } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 86 |[39m           log[33m.[39merror([32m`Error reconnecting to job ${job.id}:`[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 87 |[39m         }
     [90m 88 |[39m       })[33m;[39m
     [90m 89 |[39m     }[0m

      at src/hooks/useJobReconnection.ts:86:15

    console.error
      Error reconnecting to job job-1: TypeError: runnerStore.setState is not a function
          at /home/runner/work/nodetool/nodetool/web/src/hooks/useJobReconnection.ts:72:25

    [0m [90m 84 |[39m           )[33m;[39m
     [90m 85 |[39m         } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 86 |[39m           log[33m.[39merror([32m`Error reconnecting to job ${job.id}:`[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 87 |[39m         }
     [90m 88 |[39m       })[33m;[39m
     [90m 89 |[39m     }[0m

      at src/hooks/useJobReconnection.ts:86:15

PASS src/hooks/__tests__/useDelayedHover.test.ts
PASS src/utils/__tests__/edgeValue.test.ts
PASS src/stores/__tests__/MetadataStore.test.ts
PASS src/stores/__tests__/FindInWorkflowStore.test.ts
PASS src/utils/__tests__/modelFilters.test.ts
PASS src/hooks/__tests__/useCollectionDragAndDrop.test.ts
  ‚óè Console

    console.error
      Failed to index file crash-file.txt: Error: Network error
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/hooks/__tests__/useCollectionDragAndDrop.test.ts:166:52)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12)

    [0m [90m 113 |[39m             }
     [90m 114 |[39m           } [36mcatch[39m (err[33m:[39m any) {
    [31m[1m>[22m[39m[90m 115 |[39m             console[33m.[39merror([32m`Failed to index file ${file.name}:`[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                     [31m[1m^[22m[39m
     [90m 116 |[39m             errors[33m.[39mpush({
     [90m 117 |[39m               file[33m:[39m file[33m.[39mname[33m,[39m
     [90m 118 |[39m               error[33m:[39m [33mString[39m(err[33m?[39m[33m.[39mmessage [33m||[39m err)[0m

      at src/hooks/useCollectionDragAndDrop.ts:115:21
      at src/hooks/__tests__/useCollectionDragAndDrop.test.ts:176:9

PASS src/utils/__tests__/fileExplorer.test.ts
  ‚óè Console

    console.debug
      [fileExplorer] openInExplorer request { path: '/home/user/documents' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] Calling explorer.openModelPath { path: '/home/user/documents' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] Explorer bridge returned result { status: 'success' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openInExplorer completed

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] openInExplorer request { path: '' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openInExplorer aborted due to empty path

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] openInExplorer request { path: '../etc/passwd' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openInExplorer aborted due to invalid path

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] openInExplorer request { path: '/home/user/documents' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] Calling explorer.openModelPath { path: '/home/user/documents' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openInExplorer threw Error: IPC failure
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/utils/__tests__/fileExplorer.test.ts:149:21)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12)

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openInExplorer request { path: 'C:\\Users\\Documents' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] Calling explorer.openModelPath { path: 'C:\\Users\\Documents' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] Explorer bridge returned result { status: 'success' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openInExplorer completed

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] openInExplorer request { path: '~/Downloads' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] Calling explorer.openModelPath { path: '~/Downloads' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] Explorer bridge returned result { status: 'success' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openInExplorer completed

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] openInExplorer request { path: null }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openInExplorer aborted due to empty path

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] openInExplorer request { path: undefined }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openInExplorer aborted due to empty path

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] openInExplorer request { path: '/home/user/documents' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openInExplorer aborted because explorer bridge is unavailable

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] Calling explorer.openModelDirectory for huggingface

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] Explorer bridge returned result { status: 'success' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openHuggingfacePath completed

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] Calling explorer.openModelDirectory for ollama

      at debugLog (src/utils/fileExplorer.ts:37:13)

    console.debug
      [fileExplorer] Explorer bridge returned result { status: 'success' }

      at debugLog (src/utils/fileExplorer.ts:39:13)

    console.debug
      [fileExplorer] openOllamaPath completed

      at debugLog (src/utils/fileExplorer.ts:37:13)

PASS src/stores/__tests__/ApiClient.test.ts
PASS src/hooks/__tests__/useNodeFocus.test.ts
PASS src/stores/__tests__/NodeFocusStore.test.ts
PASS src/utils/__tests__/workflowSearch.test.ts
PASS src/stores/__tests__/LayoutStore.test.ts
PASS src/hooks/nodes/__tests__/useAddToGroup.test.ts
PASS src/utils/modelNormalization.test.ts
PASS src/hooks/__tests__/useFitView.test.ts
PASS src/stores/__tests__/graphConversion.test.ts
PASS src/lib/dragdrop/__tests__/serialization.test.ts
PASS src/hooks/__tests__/useAlignNodes.test.ts
PASS src/stores/__tests__/WorkflowRunner.test.ts
  ‚óè Console

    console.error
      WorkflowRunner[test-workflow-id]: Connection failed: Error: Connection failed
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/stores/__tests__/WorkflowRunner.test.ts:185:9)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12)

    [0m [90m 140 |[39m         [36mset[39m({ state[33m:[39m [32m"connected"[39m })[33m;[39m
     [90m 141 |[39m       } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 142 |[39m         log[33m.[39merror([32m`WorkflowRunner[${workflowId}]: Connection failed:`[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 143 |[39m         [36mset[39m({ state[33m:[39m [32m"error"[39m })[33m;[39m
     [90m 144 |[39m         [36mthrow[39m error[33m;[39m
     [90m 145 |[39m       }[0m

      at Object.ensureConnection (src/stores/WorkflowRunner.ts:142:13)
      at Object.<anonymous> (src/stores/__tests__/WorkflowRunner.test.ts:188:7)

PASS src/__tests__/components/chat/composer/SendMessageButton.test.tsx
  ‚óè Console

    console.warn
      MUI: You are providing a disabled `button` child to the Tooltip component.
      A disabled element does not fire events.
      Tooltip needs to listen to the child element's events to display the title.
      
      Add a simple wrapper element, such as a `span`.

    [0m [90m  8 |[39m
     [90m  9 |[39m [36mconst[39m renderComponent [33m=[39m (props[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 10 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 11 |[39m     [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 12 |[39m       [33m<[39m[33mSendMessageButton[39m {[33m...[39mprops} [33m/[39m[33m>[39m
     [90m 13 |[39m     [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m[0m

      at node_modules/@mui/material/Tooltip/Tooltip.js:389:17
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26959:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25981:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderComponent (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:10:16)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:65:7)

    console.warn
      MUI: You are providing a disabled `button` child to the Tooltip component.
      A disabled element does not fire events.
      Tooltip needs to listen to the child element's events to display the title.
      
      Add a simple wrapper element, such as a `span`.

    [0m [90m  8 |[39m
     [90m  9 |[39m [36mconst[39m renderComponent [33m=[39m (props[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 10 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 11 |[39m     [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 12 |[39m       [33m<[39m[33mSendMessageButton[39m {[33m...[39mprops} [33m/[39m[33m>[39m
     [90m 13 |[39m     [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m[0m

      at node_modules/@mui/material/Tooltip/Tooltip.js:389:17
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26959:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25981:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderComponent (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:10:16)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:75:7)

    console.warn
      MUI: You are providing a disabled `button` child to the Tooltip component.
      A disabled element does not fire events.
      Tooltip needs to listen to the child element's events to display the title.
      
      Add a simple wrapper element, such as a `span`.

    [0m [90m  8 |[39m
     [90m  9 |[39m [36mconst[39m renderComponent [33m=[39m (props[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 10 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 11 |[39m     [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 12 |[39m       [33m<[39m[33mSendMessageButton[39m {[33m...[39mprops} [33m/[39m[33m>[39m
     [90m 13 |[39m     [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m[0m

      at node_modules/@mui/material/Tooltip/Tooltip.js:389:17
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26959:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25981:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderComponent (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:10:16)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:86:7)

    console.warn
      MUI: You are providing a disabled `button` child to the Tooltip component.
      A disabled element does not fire events.
      Tooltip needs to listen to the child element's events to display the title.
      
      Add a simple wrapper element, such as a `span`.

    [0m [90m  8 |[39m
     [90m  9 |[39m [36mconst[39m renderComponent [33m=[39m (props[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 10 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 11 |[39m     [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 12 |[39m       [33m<[39m[33mSendMessageButton[39m {[33m...[39mprops} [33m/[39m[33m>[39m
     [90m 13 |[39m     [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m[0m

      at node_modules/@mui/material/Tooltip/Tooltip.js:389:17
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26959:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25981:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderComponent (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:10:16)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:109:7)

    console.warn
      MUI: You are providing a disabled `button` child to the Tooltip component.
      A disabled element does not fire events.
      Tooltip needs to listen to the child element's events to display the title.
      
      Add a simple wrapper element, such as a `span`.

    [0m [90m  8 |[39m
     [90m  9 |[39m [36mconst[39m renderComponent [33m=[39m (props[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 10 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 11 |[39m     [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 12 |[39m       [33m<[39m[33mSendMessageButton[39m {[33m...[39mprops} [33m/[39m[33m>[39m
     [90m 13 |[39m     [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m[0m

      at node_modules/@mui/material/Tooltip/Tooltip.js:389:17
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26959:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25981:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderComponent (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:10:16)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:119:7)

    console.error
      Warning: An update to ForwardRef(ButtonBase) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at ButtonBase (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/ButtonBase/ButtonBase.js:90:59)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at IconButton (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/IconButton/IconButton.js:185:59)
          at Tooltip (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/Tooltip/Tooltip.js:321:59)
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at /home/runner/work/nodetool/nodetool/web/src/components/chat/composer/SendMessageButton.tsx:14:6
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)

    [0m [90m 192 |[39m
     [90m 193 |[39m       expect(ref)[33m.[39mtoBeInTheDocument()[33m;[39m
    [31m[1m>[22m[39m[90m 194 |[39m       (ref [36mas[39m unknown [36mas[39m [33mHTMLButtonElement[39m [33m|[39m [36mnull[39m)[33m?[39m[33m.[39mfocus()[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 195 |[39m       expect(ref)[33m.[39mtoHaveFocus()[33m;[39m
     [90m 196 |[39m     })[33m;[39m
     [90m 197 |[39m   })[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at node_modules/@mui/material/ButtonBase/ButtonBase.js:174:7
      at node_modules/@mui/utils/useEventCallback/useEventCallback.js:24:19
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26140:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at Object.exports.fireFocusEventWithTargetAdjustment (node_modules/jsdom/lib/jsdom/living/helpers/focusing.js:103:10)
      at HTMLButtonElementImpl.focus (node_modules/jsdom/lib/jsdom/living/nodes/HTMLOrSVGElement-impl.js:69:14)
      at HTMLButtonElement.focus (node_modules/jsdom/lib/jsdom/living/generated/HTMLElement.js:117:34)
      at HTMLButtonElement.patchedFocus (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:35:26)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:194:53)

    console.error
      Warning: An update to ForwardRef(Tooltip) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at Tooltip (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/Tooltip/Tooltip.js:321:59)
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at /home/runner/work/nodetool/nodetool/web/src/components/chat/composer/SendMessageButton.tsx:14:6
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)

    [0m [90m 192 |[39m
     [90m 193 |[39m       expect(ref)[33m.[39mtoBeInTheDocument()[33m;[39m
    [31m[1m>[22m[39m[90m 194 |[39m       (ref [36mas[39m unknown [36mas[39m [33mHTMLButtonElement[39m [33m|[39m [36mnull[39m)[33m?[39m[33m.[39mfocus()[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 195 |[39m       expect(ref)[33m.[39mtoHaveFocus()[33m;[39m
     [90m 196 |[39m     })[33m;[39m
     [90m 197 |[39m   })[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at handleFocus (node_modules/@mui/material/Tooltip/Tooltip.js:473:7)
      at node_modules/@mui/material/Tooltip/Tooltip.js:315:5
      at node_modules/@mui/material/ButtonBase/ButtonBase.js:180:7
      at node_modules/@mui/utils/useEventCallback/useEventCallback.js:24:19
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26140:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at Object.exports.fireFocusEventWithTargetAdjustment (node_modules/jsdom/lib/jsdom/living/helpers/focusing.js:103:10)
      at HTMLButtonElementImpl.focus (node_modules/jsdom/lib/jsdom/living/nodes/HTMLOrSVGElement-impl.js:69:14)
      at HTMLButtonElement.focus (node_modules/jsdom/lib/jsdom/living/generated/HTMLElement.js:117:34)
      at HTMLButtonElement.patchedFocus (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:35:26)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:194:53)

    console.error
      Warning: An update to ForwardRef(ButtonBase) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at ButtonBase (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/ButtonBase/ButtonBase.js:90:59)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at IconButton (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/IconButton/IconButton.js:185:59)
          at Tooltip (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/Tooltip/Tooltip.js:321:59)
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at /home/runner/work/nodetool/nodetool/web/src/components/chat/composer/SendMessageButton.tsx:14:6
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at LazyRipple.mount (node_modules/@mui/material/useLazyRipple/useLazyRipple.js:55:12)
      at LazyRipple.pulsate (node_modules/@mui/material/useLazyRipple/useLazyRipple.js:77:10)
      at node_modules/@mui/material/ButtonBase/ButtonBase.js:142:14
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at node_modules/react-dom/cjs/react-dom.development.js:25651:13
      at invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/Function.js:19:26)
      at node_modules/jsdom/lib/jsdom/browser/Window.js:554:9

    console.warn
      MUI: You are providing a disabled `button` child to the Tooltip component.
      A disabled element does not fire events.
      Tooltip needs to listen to the child element's events to display the title.
      
      Add a simple wrapper element, such as a `span`.

    [0m [90m  8 |[39m
     [90m  9 |[39m [36mconst[39m renderComponent [33m=[39m (props[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 10 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 11 |[39m     [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 12 |[39m       [33m<[39m[33mSendMessageButton[39m {[33m...[39mprops} [33m/[39m[33m>[39m
     [90m 13 |[39m     [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m[0m

      at node_modules/@mui/material/Tooltip/Tooltip.js:389:17
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26959:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25981:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderComponent (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:10:16)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:210:7)

    console.warn
      MUI: You are providing a disabled `button` child to the Tooltip component.
      A disabled element does not fire events.
      Tooltip needs to listen to the child element's events to display the title.
      
      Add a simple wrapper element, such as a `span`.

    [0m [90m  8 |[39m
     [90m  9 |[39m [36mconst[39m renderComponent [33m=[39m (props[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 10 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 11 |[39m     [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 12 |[39m       [33m<[39m[33mSendMessageButton[39m {[33m...[39mprops} [33m/[39m[33m>[39m
     [90m 13 |[39m     [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m[0m

      at node_modules/@mui/material/Tooltip/Tooltip.js:389:17
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26959:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25981:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderComponent (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:10:16)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:221:7)

    console.warn
      MUI: You are providing a disabled `button` child to the Tooltip component.
      A disabled element does not fire events.
      Tooltip needs to listen to the child element's events to display the title.
      
      Add a simple wrapper element, such as a `span`.

    [0m [90m  8 |[39m
     [90m  9 |[39m [36mconst[39m renderComponent [33m=[39m (props[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 10 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 11 |[39m     [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 12 |[39m       [33m<[39m[33mSendMessageButton[39m {[33m...[39mprops} [33m/[39m[33m>[39m
     [90m 13 |[39m     [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m[0m

      at node_modules/@mui/material/Tooltip/Tooltip.js:389:17
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26959:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25981:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderComponent (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:10:16)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:244:7)

    console.warn
      MUI: You are providing a disabled `button` child to the Tooltip component.
      A disabled element does not fire events.
      Tooltip needs to listen to the child element's events to display the title.
      
      Add a simple wrapper element, such as a `span`.

    [0m [90m  8 |[39m
     [90m  9 |[39m [36mconst[39m renderComponent [33m=[39m (props[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 10 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 11 |[39m     [33m<[39m[33mThemeProvider[39m theme[33m=[39m{mockTheme}[33m>[39m
     [90m 12 |[39m       [33m<[39m[33mSendMessageButton[39m {[33m...[39mprops} [33m/[39m[33m>[39m
     [90m 13 |[39m     [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m[0m

      at node_modules/@mui/material/Tooltip/Tooltip.js:389:17
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26959:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25981:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderComponent (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:10:16)
      at Object.<anonymous> (src/__tests__/components/chat/composer/SendMessageButton.test.tsx:254:7)

PASS src/hooks/nodes/__tests__/useSurroundWithGroup.test.ts
PASS src/hooks/__tests__/useApiKeyValidation.test.ts
PASS src/hooks/nodes/__tests__/useDynamicProperty.test.ts
PASS src/hooks/__tests__/useNumberInput.test.ts
FAIL src/hooks/__tests__/useRunningJobs.test.tsx
  ‚óè useRunningJobs ‚Ä∫ filters to only active jobs

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 3
    Received array:  [{"id": "job-1", "is_resumable": false, "job_type": "workflow", "status": "running", "user_id": "test-user", "workflow_id": "workflow-1"}, {"id": "job-2", "is_resumable": false, "job_type": "workflow", "status": "queued", "user_id": "test-user", "workflow_id": "workflow-2"}, {"id": "job-3", "is_resumable": false, "job_type": "workflow", "status": "completed", "user_id": "test-user", "workflow_id": "workflow-3"}]

    [0m [90m 90 |[39m     })[33m;[39m
     [90m 91 |[39m
    [31m[1m>[22m[39m[90m 92 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 93 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mmap((j) [33m=>[39m j[33m.[39mid))[33m.[39mtoEqual([[32m"job-1"[39m[33m,[39m [32m"job-2"[39m])[33m;[39m
     [90m 94 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mfind((j) [33m=>[39m j[33m.[39mid [33m===[39m [32m"job-3"[39m))[33m.[39mtoBeUndefined()[33m;[39m
     [90m 95 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useRunningJobs.test.tsx:92:33)

  ‚óè useRunningJobs ‚Ä∫ includes jobs with suspended status

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  [{"id": "job-1", "is_resumable": false, "job_type": "workflow", "status": "running", "user_id": "test-user", "workflow_id": "workflow-1"}, {"id": "job-2", "is_resumable": false, "job_type": "workflow", "status": "queued", "user_id": "test-user", "workflow_id": "workflow-2"}, {"id": "job-3", "is_resumable": false, "job_type": "workflow", "status": "completed", "user_id": "test-user", "workflow_id": "workflow-3"}, {"created_at": "2026-01-22T10:15:00Z", "id": "job-4", "status": "suspended", "type": "job", "workflow_id": "workflow-4"}]

    [0m [90m 173 |[39m     })[33m;[39m
     [90m 174 |[39m
    [31m[1m>[22m[39m[90m 175 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 176 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mfind((j) [33m=>[39m j[33m.[39mid [33m===[39m [32m"job-4"[39m))[33m.[39mtoBeDefined()[33m;[39m
     [90m 177 |[39m   })[33m;[39m
     [90m 178 |[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useRunningJobs.test.tsx:175:33)

  ‚óè useRunningJobs ‚Ä∫ includes jobs with paused status

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  [{"id": "job-1", "is_resumable": false, "job_type": "workflow", "status": "running", "user_id": "test-user", "workflow_id": "workflow-1"}, {"id": "job-2", "is_resumable": false, "job_type": "workflow", "status": "queued", "user_id": "test-user", "workflow_id": "workflow-2"}, {"id": "job-3", "is_resumable": false, "job_type": "workflow", "status": "completed", "user_id": "test-user", "workflow_id": "workflow-3"}, {"created_at": "2026-01-22T10:20:00Z", "id": "job-5", "status": "paused", "type": "job", "workflow_id": "workflow-5"}]

    [0m [90m 201 |[39m     })[33m;[39m
     [90m 202 |[39m
    [31m[1m>[22m[39m[90m 203 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 204 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mfind((j) [33m=>[39m j[33m.[39mid [33m===[39m [32m"job-5"[39m))[33m.[39mtoBeDefined()[33m;[39m
     [90m 205 |[39m   })[33m;[39m
     [90m 206 |[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useRunningJobs.test.tsx:203:33)

  ‚óè useRunningJobs ‚Ä∫ includes jobs with starting status

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  [{"id": "job-1", "is_resumable": false, "job_type": "workflow", "status": "running", "user_id": "test-user", "workflow_id": "workflow-1"}, {"id": "job-2", "is_resumable": false, "job_type": "workflow", "status": "queued", "user_id": "test-user", "workflow_id": "workflow-2"}, {"id": "job-3", "is_resumable": false, "job_type": "workflow", "status": "completed", "user_id": "test-user", "workflow_id": "workflow-3"}, {"created_at": "2026-01-22T10:25:00Z", "id": "job-6", "status": "starting", "type": "job", "workflow_id": "workflow-6"}]

    [0m [90m 229 |[39m     })[33m;[39m
     [90m 230 |[39m
    [31m[1m>[22m[39m[90m 231 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 232 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mfind((j) [33m=>[39m j[33m.[39mid [33m===[39m [32m"job-6"[39m))[33m.[39mtoBeDefined()[33m;[39m
     [90m 233 |[39m   })[33m;[39m
     [90m 234 |[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useRunningJobs.test.tsx:231:33)

  ‚óè useRunningJobs ‚Ä∫ filters out failed jobs

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  [{"id": "job-1", "is_resumable": false, "job_type": "workflow", "status": "running", "user_id": "test-user", "workflow_id": "workflow-1"}, {"id": "job-2", "is_resumable": false, "job_type": "workflow", "status": "queued", "user_id": "test-user", "workflow_id": "workflow-2"}, {"id": "job-3", "is_resumable": false, "job_type": "workflow", "status": "completed", "user_id": "test-user", "workflow_id": "workflow-3"}, {"created_at": "2026-01-22T10:30:00Z", "id": "job-7", "status": "failed", "type": "job", "workflow_id": "workflow-7"}]

    [0m [90m 257 |[39m     })[33m;[39m
     [90m 258 |[39m
    [31m[1m>[22m[39m[90m 259 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 260 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mfind((j) [33m=>[39m j[33m.[39mid [33m===[39m [32m"job-7"[39m))[33m.[39mtoBeUndefined()[33m;[39m
     [90m 261 |[39m   })[33m;[39m
     [90m 262 |[39m })[33m;[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useRunningJobs.test.tsx:259:33)

PASS src/hooks/__tests__/useCreateNode.test.ts
PASS src/components/node_editor/__tests__/ViewportStatusIndicator.test.tsx
PASS src/utils/__tests__/nodeUtils.test.ts
PASS src/utils/__tests__/NodeTypeMapping.test.ts
PASS src/utils/__tests__/sanitize.test.ts
PASS src/stores/__tests__/FavoriteNodesStore.test.ts
PASS src/utils/__tests__/formatUtils.test.ts
PASS src/stores/__tests__/VersionHistoryStore.test.ts
PASS src/stores/__tests__/StatusStore.test.ts
PASS src/hooks/__tests__/useWorkflowGraphUpdater.test.ts
PASS src/utils/__tests__/graphCycle.test.ts
PASS src/utils/__tests__/selectionBounds.test.ts
PASS src/hooks/nodes/__tests__/useSyncEdgeSelection.test.ts
PASS src/utils/__tests__/formatDateAndTime.test.ts
PASS src/hooks/nodes/__tests__/getGroupBounds.test.ts
PASS src/components/ui_primitives/__tests__/ActionButtons.test.tsx
  ‚óè Console

    console.warn
      MUI: You are providing a disabled `button` child to the Tooltip component.
      A disabled element does not fire events.
      Tooltip needs to listen to the child element's events to display the title.
      
      Add a simple wrapper element, such as a `span`.

    [0m [90m 153 |[39m
     [90m 154 |[39m   it([32m"respects disabled state"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 155 |[39m     render(
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 156 |[39m       [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 157 |[39m         [33m<[39m[33mDeleteButton[39m onClick[33m=[39m{() [33m=>[39m {}} disabled [33m/[39m[33m>[39m
     [90m 158 |[39m       [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at node_modules/@mui/material/Tooltip/Tooltip.js:389:17
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26959:3)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25981:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/ui_primitives/__tests__/ActionButtons.test.tsx:155:11)

PASS src/hooks/handlers/__tests__/useClipboardContentPaste.test.ts
  ‚óè Console

    console.warn
      Mouse position not available for clipboard paste

    [0m [90m 387 |[39m     [36mconst[39m mousePosition [33m=[39m getMousePosition()[33m;[39m
     [90m 388 |[39m     [36mif[39m ([33m![39mmousePosition) {
    [31m[1m>[22m[39m[90m 389 |[39m       log[33m.[39mwarn([32m"Mouse position not available for clipboard paste"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 390 |[39m       [36mreturn[39m [36mfalse[39m[33m;[39m
     [90m 391 |[39m     }
     [90m 392 |[39m[0m

      at Object.handleContentPaste (src/hooks/handlers/useClipboardContentPaste.ts:389:11)
      at src/hooks/handlers/__tests__/useClipboardContentPaste.test.ts:156:40
      at node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.<anonymous> (src/hooks/handlers/__tests__/useClipboardContentPaste.test.ts:155:16)

PASS src/hooks/nodes/__tests__/useRemoveFromGroup.test.ts
PASS src/lib/dragdrop/__tests__/hooks.test.tsx
PASS src/hooks/__tests__/useProviderApiKeyValidation.test.ts
PASS src/hooks/__tests__/useWorkflowRunnerState.test.ts
PASS src/stores/__tests__/formatNodeDocumentation.test.ts
PASS src/components/node/image_editor/__tests__/canvasUtils.test.ts
PASS src/stores/__tests__/ModelDownloadStore.test.ts
PASS src/components/context_menus/__tests__/PaneContextMenu.test.tsx
PASS src/stores/__tests__/GettingStartedStore.test.ts
PASS src/hooks/__tests__/useFitNodeEvent.test.ts
PASS src/__tests__/components/chat/composer/StopGenerationButton.test.tsx
  ‚óè Console

    console.error
      Warning: An update to ForwardRef(ButtonBase) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at ButtonBase (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/ButtonBase/ButtonBase.js:90:59)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at IconButton (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/IconButton/IconButton.js:185:59)
          at Tooltip (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/Tooltip/Tooltip.js:321:59)
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at /home/runner/work/nodetool/nodetool/web/src/components/chat/composer/StopGenerationButton.tsx:12:6
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)

    [0m [90m 134 |[39m
     [90m 135 |[39m       expect(ref)[33m.[39mtoBeInTheDocument()[33m;[39m
    [31m[1m>[22m[39m[90m 136 |[39m       (ref [36mas[39m unknown [36mas[39m [33mHTMLButtonElement[39m [33m|[39m [36mnull[39m)[33m?[39m[33m.[39mfocus()[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 137 |[39m       expect(ref)[33m.[39mtoHaveFocus()[33m;[39m
     [90m 138 |[39m     })[33m;[39m
     [90m 139 |[39m   })[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at node_modules/@mui/material/ButtonBase/ButtonBase.js:174:7
      at node_modules/@mui/utils/useEventCallback/useEventCallback.js:24:19
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26140:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at Object.exports.fireFocusEventWithTargetAdjustment (node_modules/jsdom/lib/jsdom/living/helpers/focusing.js:103:10)
      at HTMLButtonElementImpl.focus (node_modules/jsdom/lib/jsdom/living/nodes/HTMLOrSVGElement-impl.js:69:14)
      at HTMLButtonElement.focus (node_modules/jsdom/lib/jsdom/living/generated/HTMLElement.js:117:34)
      at HTMLButtonElement.patchedFocus (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:35:26)
      at Object.<anonymous> (src/__tests__/components/chat/composer/StopGenerationButton.test.tsx:136:53)

    console.error
      Warning: An update to ForwardRef(Tooltip) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at Tooltip (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/Tooltip/Tooltip.js:321:59)
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at /home/runner/work/nodetool/nodetool/web/src/components/chat/composer/StopGenerationButton.tsx:12:6
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)

    [0m [90m 134 |[39m
     [90m 135 |[39m       expect(ref)[33m.[39mtoBeInTheDocument()[33m;[39m
    [31m[1m>[22m[39m[90m 136 |[39m       (ref [36mas[39m unknown [36mas[39m [33mHTMLButtonElement[39m [33m|[39m [36mnull[39m)[33m?[39m[33m.[39mfocus()[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 137 |[39m       expect(ref)[33m.[39mtoHaveFocus()[33m;[39m
     [90m 138 |[39m     })[33m;[39m
     [90m 139 |[39m   })[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at handleFocus (node_modules/@mui/material/Tooltip/Tooltip.js:473:7)
      at node_modules/@mui/material/Tooltip/Tooltip.js:315:5
      at node_modules/@mui/material/ButtonBase/ButtonBase.js:180:7
      at node_modules/@mui/utils/useEventCallback/useEventCallback.js:24:19
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26140:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at Object.exports.fireFocusEventWithTargetAdjustment (node_modules/jsdom/lib/jsdom/living/helpers/focusing.js:103:10)
      at HTMLButtonElementImpl.focus (node_modules/jsdom/lib/jsdom/living/nodes/HTMLOrSVGElement-impl.js:69:14)
      at HTMLButtonElement.focus (node_modules/jsdom/lib/jsdom/living/generated/HTMLElement.js:117:34)
      at HTMLButtonElement.patchedFocus (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:35:26)
      at Object.<anonymous> (src/__tests__/components/chat/composer/StopGenerationButton.test.tsx:136:53)

    console.error
      Warning: An update to ForwardRef(ButtonBase) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at ButtonBase (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/ButtonBase/ButtonBase.js:90:59)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at IconButton (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/IconButton/IconButton.js:185:59)
          at Tooltip (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/Tooltip/Tooltip.js:321:59)
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at /home/runner/work/nodetool/nodetool/web/src/components/chat/composer/StopGenerationButton.tsx:12:6
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at LazyRipple.mount (node_modules/@mui/material/useLazyRipple/useLazyRipple.js:55:12)
      at LazyRipple.pulsate (node_modules/@mui/material/useLazyRipple/useLazyRipple.js:77:10)
      at node_modules/@mui/material/ButtonBase/ButtonBase.js:142:14
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23150:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24931:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24891:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24878:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24866:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27039:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26984:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26935:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26117:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at node_modules/react-dom/cjs/react-dom.development.js:25651:13
      at invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/Function.js:19:26)
      at node_modules/jsdom/lib/jsdom/browser/Window.js:554:9

PASS src/stores/__tests__/RightPanelStore.test.ts
PASS src/stores/__tests__/RecentNodesStore.test.ts
PASS src/utils/__tests__/hfCache.test.ts
PASS src/components/properties/__tests__/IntegerProperty.test.tsx
PASS src/components/properties/__tests__/FloatProperty.test.tsx
PASS src/__tests__/ErrorBoundary.test.tsx
PASS src/utils/__tests__/imageUtils.test.ts
PASS src/stores/__tests__/BottomPanelStore.test.ts
PASS src/stores/__tests__/ModelFiltersStore.test.ts
PASS src/hooks/__tests__/useProviders.test.tsx
PASS src/hooks/assets/__tests__/useAssetSelection.test.ts
PASS src/utils/__tests__/colorHarmonies.test.ts
PASS src/hooks/browser/__tests__/useVideoRecorder.test.ts
  ‚óè Console

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 156 |[39m           log[33m.[39minfo([32m"Fetch aborted"[39m)[33m;[39m
     [90m 157 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 158 |[39m           setError([32m`Error enumerating devices: ${fetchError.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 159 |[39m         }
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m   }[33m,[39m [])[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/browser/useVideoRecorder.ts:158:11

PASS src/__tests__/components/node_menu/NodeMenuKeyboardNavigation.test.tsx
PASS src/utils/__tests__/NumberInput.utils.test.ts
PASS src/stores/__tests__/ModelManagerStore.test.ts
PASS src/components/asset_viewer/__tests__/Model3DViewer.test.tsx
  ‚óè Console

    console.error
      Warning: <ambientLight /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at ambientLight
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 82 |[39m
     [90m 83 |[39m   test([32m"renders loading state initially"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 84 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 85 |[39m     expect(screen[33m.[39mgetByText([32m"Loading model..."[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 86 |[39m   })[33m;[39m
     [90m 87 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:84:11)

    console.error
      Warning: The tag <ambientLight> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.
          at ambientLight
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 82 |[39m
     [90m 83 |[39m   test([32m"renders loading state initially"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 84 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 85 |[39m     expect(screen[33m.[39mgetByText([32m"Loading model..."[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 86 |[39m   })[33m;[39m
     [90m 87 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9816:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:84:11)

    console.error
      Warning: The tag <primitive> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.
          at primitive
          at Center (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:35:14)
          at Model (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:240:18)
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 82 |[39m
     [90m 83 |[39m   test([32m"renders loading state initially"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 84 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 85 |[39m     expect(screen[33m.[39mgetByText([32m"Loading model..."[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 86 |[39m   })[33m;[39m
     [90m 87 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9816:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:84:11)

    console.error
      Warning: <axesHelper /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at axesHelper
          at SceneHelpers (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:327:25)
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 82 |[39m
     [90m 83 |[39m   test([32m"renders loading state initially"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 84 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 85 |[39m     expect(screen[33m.[39mgetByText([32m"Loading model..."[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 86 |[39m   })[33m;[39m
     [90m 87 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:84:11)

    console.error
      Warning: The tag <axesHelper> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.
          at axesHelper
          at SceneHelpers (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:327:25)
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 82 |[39m
     [90m 83 |[39m   test([32m"renders loading state initially"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 84 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 85 |[39m     expect(screen[33m.[39mgetByText([32m"Loading model..."[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 86 |[39m   })[33m;[39m
     [90m 87 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9816:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:84:11)

    console.error
      Warning: <ambientLight /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at ambientLight
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 92 |[39m
     [90m 93 |[39m   test([32m"renders Canvas component with URL"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 94 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 95 |[39m     expect(screen[33m.[39mgetByTestId([32m"r3f-canvas"[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 96 |[39m   })[33m;[39m
     [90m 97 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:94:11)

    console.error
      Warning: <axesHelper /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at axesHelper
          at SceneHelpers (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:327:25)
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 92 |[39m
     [90m 93 |[39m   test([32m"renders Canvas component with URL"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 94 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 95 |[39m     expect(screen[33m.[39mgetByTestId([32m"r3f-canvas"[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 96 |[39m   })[33m;[39m
     [90m 97 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:94:11)

    console.error
      Warning: <ambientLight /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at ambientLight
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m  97 |[39m
     [90m  98 |[39m   test([32m"renders in compact mode without toolbar"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m  99 |[39m     [36mconst[39m { container } [33m=[39m render(
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 100 |[39m       [33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} compact[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m
     [90m 101 |[39m     )[33m;[39m
     [90m 102 |[39m     [90m// Toolbar should not be present in compact mode[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:99:33)

    console.error
      Warning: <ambientLight /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at ambientLight
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 105 |[39m
     [90m 106 |[39m   test([32m"renders toolbar in non-compact mode"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 107 |[39m     [36mconst[39m { container } [33m=[39m render(
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 108 |[39m       [33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} compact[33m=[39m{[36mfalse[39m} [33m/[39m[33m>[39m
     [90m 109 |[39m     )[33m;[39m
     [90m 110 |[39m     [90m// Toolbar should be present in non-compact mode[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:107:33)

    console.error
      Warning: <axesHelper /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at axesHelper
          at SceneHelpers (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:327:25)
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 105 |[39m
     [90m 106 |[39m   test([32m"renders toolbar in non-compact mode"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 107 |[39m     [36mconst[39m { container } [33m=[39m render(
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 108 |[39m       [33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} compact[33m=[39m{[36mfalse[39m} [33m/[39m[33m>[39m
     [90m 109 |[39m     )[33m;[39m
     [90m 110 |[39m     [90m// Toolbar should be present in non-compact mode[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:107:33)

    console.error
      Warning: <ambientLight /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at ambientLight
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 115 |[39m     [36mconst[39m handleClick [33m=[39m jest[33m.[39mfn()[33m;[39m
     [90m 116 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 117 |[39m     [36mconst[39m { container } [33m=[39m render(
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 118 |[39m       [33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} compact[33m=[39m{[36mtrue[39m} onClick[33m=[39m{handleClick} [33m/[39m[33m>[39m
     [90m 119 |[39m     )[33m;[39m
     [90m 120 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:117:33)

    console.error
      Warning: <ambientLight /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at ambientLight
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 133 |[39m     } [36mas[39m any[33m;[39m
     [90m 134 |[39m
    [31m[1m>[22m[39m[90m 135 |[39m     render([33m<[39m[33mModel3DViewer[39m asset[33m=[39m{asset} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 136 |[39m     expect(screen[33m.[39mgetByTestId([32m"r3f-canvas"[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 137 |[39m   })[33m;[39m
     [90m 138 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:135:11)

    console.error
      Warning: <axesHelper /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at axesHelper
          at SceneHelpers (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:327:25)
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 133 |[39m     } [36mas[39m any[33m;[39m
     [90m 134 |[39m
    [31m[1m>[22m[39m[90m 135 |[39m     render([33m<[39m[33mModel3DViewer[39m asset[33m=[39m{asset} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 136 |[39m     expect(screen[33m.[39mgetByTestId([32m"r3f-canvas"[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 137 |[39m   })[33m;[39m
     [90m 138 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:135:11)

    console.error
      Warning: <ambientLight /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at ambientLight
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 144 |[39m     } [36mas[39m any[33m;[39m
     [90m 145 |[39m
    [31m[1m>[22m[39m[90m 146 |[39m     render([33m<[39m[33mModel3DViewer[39m asset[33m=[39m{asset} compact[33m=[39m{[36mfalse[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 147 |[39m     expect(screen[33m.[39mgetByText([32m"test-model.glb"[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 148 |[39m   })[33m;[39m
     [90m 149 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:146:11)

    console.error
      Warning: <axesHelper /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at axesHelper
          at SceneHelpers (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:327:25)
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 144 |[39m     } [36mas[39m any[33m;[39m
     [90m 145 |[39m
    [31m[1m>[22m[39m[90m 146 |[39m     render([33m<[39m[33mModel3DViewer[39m asset[33m=[39m{asset} compact[33m=[39m{[36mfalse[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 147 |[39m     expect(screen[33m.[39mgetByText([32m"test-model.glb"[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 148 |[39m   })[33m;[39m
     [90m 149 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:146:11)

    console.error
      Warning: <ambientLight /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at ambientLight
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 149 |[39m
     [90m 150 |[39m   test([32m"renders control buttons in non-compact mode"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 151 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} compact[33m=[39m{[36mfalse[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 152 |[39m
     [90m 153 |[39m     [90m// Check for various control buttons by their tooltip titles[39m
     [90m 154 |[39m     expect(screen[33m.[39mgetByRole([32m"button"[39m[33m,[39m { name[33m:[39m [35m/toggle grid/i[39m }))[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:151:11)

    console.error
      Warning: <axesHelper /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at axesHelper
          at SceneHelpers (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:327:25)
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 149 |[39m
     [90m 150 |[39m   test([32m"renders control buttons in non-compact mode"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 151 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} compact[33m=[39m{[36mfalse[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 152 |[39m
     [90m 153 |[39m     [90m// Check for various control buttons by their tooltip titles[39m
     [90m 154 |[39m     expect(screen[33m.[39mgetByRole([32m"button"[39m[33m,[39m { name[33m:[39m [35m/toggle grid/i[39m }))[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:151:11)

    console.error
      Warning: <ambientLight /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at ambientLight
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 160 |[39m
     [90m 161 |[39m   test([32m"renders wireframe toggle buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 162 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} compact[33m=[39m{[36mfalse[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m
     [90m 164 |[39m     expect(screen[33m.[39mgetByRole([32m"button"[39m[33m,[39m { name[33m:[39m [35m/solid/i[39m }))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 165 |[39m     expect(screen[33m.[39mgetByRole([32m"button"[39m[33m,[39m { name[33m:[39m [35m/wire/i[39m }))[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:162:11)

    console.error
      Warning: <axesHelper /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
          at axesHelper
          at SceneHelpers (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:327:25)
          at Suspense
          at ModelErrorBoundary (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:301:5)
          at div
          at Canvas (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:8:14)
          at div
          at div
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Model3DViewer (/home/runner/work/nodetool/nodetool/web/src/components/asset_viewer/Model3DViewer.tsx:463:3)

    [0m [90m 160 |[39m
     [90m 161 |[39m   test([32m"renders wireframe toggle buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 162 |[39m     render([33m<[39m[33mModel3DViewer[39m url[33m=[39m{testUrl} compact[33m=[39m{[36mfalse[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m
     [90m 164 |[39m     expect(screen[33m.[39mgetByRole([32m"button"[39m[33m,[39m { name[33m:[39m [35m/solid/i[39m }))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 165 |[39m     expect(screen[33m.[39mgetByRole([32m"button"[39m[33m,[39m { name[33m:[39m [35m/wire/i[39m }))[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9761:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/asset_viewer/__tests__/Model3DViewer.test.tsx:162:11)

PASS src/utils/__tests__/highlightText.test.ts
PASS src/components/ui_primitives/__tests__/SelectionControls.test.tsx
PASS src/providers/__tests__/ContextMenuProvider.test.tsx
PASS src/stores/__tests__/NodePlacementStore.test.ts
PASS src/providers/__tests__/ConnectableNodesProvider.test.tsx
PASS src/stores/__tests__/ExecutionTimeStore.test.ts
PASS src/utils/__tests__/errorHandling.test.ts
PASS src/utils/__tests__/downloadPreviewAssets.test.ts
PASS src/utils/__tests__/identifierValidation.test.ts
PASS src/components/ui_primitives/__tests__/ActionButtonGroup.test.tsx
PASS src/components/ui_primitives/__tests__/DialogActionButtons.test.tsx
PASS src/components/hugging_face/model_list/__tests__/useModelCompatibility_provided.test.ts
PASS src/stores/__tests__/WorkflowActionsStore.test.ts
PASS src/serverState/__tests__/checkHfCache.test.ts
PASS src/stores/__tests__/SessionStateStore.test.ts
PASS src/stores/__tests__/graphEdgeToReactFlowEdge.test.ts
PASS src/utils/__tests__/useDynamicSvgImport.test.tsx
  ‚óè Console

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 48 |[39m         console[33m.[39mwarn([32m`Failed to load icon ${iconName}, using fallback`[39m)[33m;[39m
     [90m 49 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 50 |[39m         setLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 51 |[39m       }
     [90m 52 |[39m     }[33m;[39m
     [90m 53 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at importSvgIcon (src/utils/useDynamicSvgImport.ts:50:9)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 48 |[39m         console[33m.[39mwarn([32m`Failed to load icon ${iconName}, using fallback`[39m)[33m;[39m
     [90m 49 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 50 |[39m         setLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 51 |[39m       }
     [90m 52 |[39m     }[33m;[39m
     [90m 53 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at importSvgIcon (src/utils/useDynamicSvgImport.ts:50:9)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 48 |[39m         console[33m.[39mwarn([32m`Failed to load icon ${iconName}, using fallback`[39m)[33m;[39m
     [90m 49 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 50 |[39m         setLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 51 |[39m       }
     [90m 52 |[39m     }[33m;[39m
     [90m 53 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at importSvgIcon (src/utils/useDynamicSvgImport.ts:50:9)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 48 |[39m         console[33m.[39mwarn([32m`Failed to load icon ${iconName}, using fallback`[39m)[33m;[39m
     [90m 49 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 50 |[39m         setLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 51 |[39m       }
     [90m 52 |[39m     }[33m;[39m
     [90m 53 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at importSvgIcon (src/utils/useDynamicSvgImport.ts:50:9)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 48 |[39m         console[33m.[39mwarn([32m`Failed to load icon ${iconName}, using fallback`[39m)[33m;[39m
     [90m 49 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 50 |[39m         setLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 51 |[39m       }
     [90m 52 |[39m     }[33m;[39m
     [90m 53 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at importSvgIcon (src/utils/useDynamicSvgImport.ts:50:9)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 48 |[39m         console[33m.[39mwarn([32m`Failed to load icon ${iconName}, using fallback`[39m)[33m;[39m
     [90m 49 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 50 |[39m         setLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 51 |[39m       }
     [90m 52 |[39m     }[33m;[39m
     [90m 53 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at importSvgIcon (src/utils/useDynamicSvgImport.ts:50:9)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 48 |[39m         console[33m.[39mwarn([32m`Failed to load icon ${iconName}, using fallback`[39m)[33m;[39m
     [90m 49 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 50 |[39m         setLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 51 |[39m       }
     [90m 52 |[39m     }[33m;[39m
     [90m 53 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at importSvgIcon (src/utils/useDynamicSvgImport.ts:50:9)

PASS src/components/ui_primitives/__tests__/PlaybackButton.test.tsx
PASS src/stores/__tests__/FavoriteWorkflowsStore.test.ts
PASS src/utils/__tests__/createAssetFile.test.ts
  ‚óè Console

    console.warn
      [createAssetFile] Truncated streaming text output { maxTextChars: 5, chunks: 2 }

    [0m [90m 245 |[39m         )[33m;[39m
     [90m 246 |[39m         [36mif[39m (truncated) {
    [31m[1m>[22m[39m[90m 247 |[39m           log[33m.[39mwarn([32m"[createAssetFile] Truncated streaming text output"[39m[33m,[39m {
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 248 |[39m             maxTextChars[33m,[39m
     [90m 249 |[39m             chunks[33m:[39m textChunks[33m.[39mlength
     [90m 250 |[39m           })[33m;[39m[0m

      at normalizeOutput (src/utils/createAssetFile.ts:247:15)
      at createAssetFile (src/utils/createAssetFile.ts:506:22)
      at Object.<anonymous> (src/utils/__tests__/createAssetFile.test.ts:58:43)

PASS src/hooks/handlers/__tests__/useNodeEvents.test.ts
PASS src/hooks/nodes/__tests__/useIsGroupable.test.ts
PASS src/stores/__tests__/NodeResultHistoryStore.test.ts
PASS src/hooks/nodes/__tests__/useSelect.test.ts
PASS src/utils/graphCycle.test.ts
PASS src/components/node/image_editor/__tests__/ImageEditorToolbar.test.tsx
PASS src/stores/__tests__/AppHeaderStore.test.ts
PASS src/hooks/handlers/__tests__/useConnectionEvents.test.ts
PASS src/contexts/__tests__/NodeContext.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [Error: useNodes must be used within a NodeProvider]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at /home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:63:24
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/toThrowMatchers.js:74:11)
          at Object.throwingMatcher [as toThrow] (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/index.js:320:21)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:63:41)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: useNodes must be used within a NodeProvider
            at useNodes (/home/runner/work/nodetool/nodetool/web/src/contexts/NodeContext.tsx:36:11)
            at Component (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:60:15)
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at mountIndeterminateComponent (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:20074:13)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21587:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at /home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:63:24
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/toThrowMatchers.js:74:11)
            at Object.throwingMatcher [as toThrow] (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/index.js:320:21)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:63:41)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 61 |[39m       [36mreturn[39m [36mnull[39m[33m;[39m
     [90m 62 |[39m     }[33m;[39m
    [31m[1m>[22m[39m[90m 63 |[39m     expect(() [33m=>[39m render([33m<[39m[33mComponent[39m [33m/[39m[33m>[39m))[33m.[39mtoThrow([32m'useNodes must be used within a NodeProvider'[39m)[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 64 |[39m   })[33m;[39m
     [90m 65 |[39m
     [90m 66 |[39m   test([32m'returns selected state correctly'[39m[33m,[39m () [33m=>[39m {[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at src/contexts/__tests__/NodeContext.test.tsx:63:24
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.<anonymous> (src/contexts/__tests__/NodeContext.test.tsx:63:41)

    console.error
      Error: Uncaught [Error: useNodes must be used within a NodeProvider]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at /home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:63:24
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/toThrowMatchers.js:74:11)
          at Object.throwingMatcher [as toThrow] (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/index.js:320:21)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:63:41)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: useNodes must be used within a NodeProvider
            at useNodes (/home/runner/work/nodetool/nodetool/web/src/contexts/NodeContext.tsx:36:11)
            at Component (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:60:15)
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at mountIndeterminateComponent (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:20074:13)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21587:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at /home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:63:24
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/toThrowMatchers.js:74:11)
            at Object.throwingMatcher [as toThrow] (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/index.js:320:21)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:63:41)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 61 |[39m       [36mreturn[39m [36mnull[39m[33m;[39m
     [90m 62 |[39m     }[33m;[39m
    [31m[1m>[22m[39m[90m 63 |[39m     expect(() [33m=>[39m render([33m<[39m[33mComponent[39m [33m/[39m[33m>[39m))[33m.[39mtoThrow([32m'useNodes must be used within a NodeProvider'[39m)[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 64 |[39m   })[33m;[39m
     [90m 65 |[39m
     [90m 66 |[39m   test([32m'returns selected state correctly'[39m[33m,[39m () [33m=>[39m {[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at src/contexts/__tests__/NodeContext.test.tsx:63:24
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.<anonymous> (src/contexts/__tests__/NodeContext.test.tsx:63:41)

    console.error
      The above error occurred in the <Component> component:
      
          at Component (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:60:15)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 61 |[39m       [36mreturn[39m [36mnull[39m[33m;[39m
     [90m 62 |[39m     }[33m;[39m
    [31m[1m>[22m[39m[90m 63 |[39m     expect(() [33m=>[39m render([33m<[39m[33mComponent[39m [33m/[39m[33m>[39m))[33m.[39mtoThrow([32m'useNodes must be used within a NodeProvider'[39m)[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 64 |[39m   })[33m;[39m
     [90m 65 |[39m
     [90m 66 |[39m   test([32m'returns selected state correctly'[39m[33m,[39m () [33m=>[39m {[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at src/contexts/__tests__/NodeContext.test.tsx:63:24
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.<anonymous> (src/contexts/__tests__/NodeContext.test.tsx:63:41)

    console.error
      Error: Uncaught [Error: useTemporalNodes must be used within a NodeProvider]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at /home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:113:24
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/toThrowMatchers.js:74:11)
          at Object.throwingMatcher [as toThrow] (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/index.js:320:21)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:113:41)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: useTemporalNodes must be used within a NodeProvider
            at useTemporalNodes (/home/runner/work/nodetool/nodetool/web/src/contexts/NodeContext.tsx:46:11)
            at Component (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:110:23)
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at mountIndeterminateComponent (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:20074:13)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21587:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at /home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:113:24
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/toThrowMatchers.js:74:11)
            at Object.throwingMatcher [as toThrow] (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/index.js:320:21)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:113:41)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 111 |[39m       [36mreturn[39m [36mnull[39m[33m;[39m
     [90m 112 |[39m     }[33m;[39m
    [31m[1m>[22m[39m[90m 113 |[39m     expect(() [33m=>[39m render([33m<[39m[33mComponent[39m [33m/[39m[33m>[39m))[33m.[39mtoThrow([32m'useTemporalNodes must be used within a NodeProvider'[39m)[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 114 |[39m   })[33m;[39m
     [90m 115 |[39m
     [90m 116 |[39m   test([32m'accesses temporal state correctly'[39m[33m,[39m () [33m=>[39m {[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at src/contexts/__tests__/NodeContext.test.tsx:113:24
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.<anonymous> (src/contexts/__tests__/NodeContext.test.tsx:113:41)

    console.error
      Error: Uncaught [Error: useTemporalNodes must be used within a NodeProvider]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at /home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:113:24
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/toThrowMatchers.js:74:11)
          at Object.throwingMatcher [as toThrow] (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/index.js:320:21)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:113:41)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: useTemporalNodes must be used within a NodeProvider
            at useTemporalNodes (/home/runner/work/nodetool/nodetool/web/src/contexts/NodeContext.tsx:46:11)
            at Component (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:110:23)
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at mountIndeterminateComponent (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:20074:13)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21587:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at /home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:113:24
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/toThrowMatchers.js:74:11)
            at Object.throwingMatcher [as toThrow] (/home/runner/work/nodetool/nodetool/web/node_modules/expect/build/index.js:320:21)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:113:41)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 111 |[39m       [36mreturn[39m [36mnull[39m[33m;[39m
     [90m 112 |[39m     }[33m;[39m
    [31m[1m>[22m[39m[90m 113 |[39m     expect(() [33m=>[39m render([33m<[39m[33mComponent[39m [33m/[39m[33m>[39m))[33m.[39mtoThrow([32m'useTemporalNodes must be used within a NodeProvider'[39m)[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 114 |[39m   })[33m;[39m
     [90m 115 |[39m
     [90m 116 |[39m   test([32m'accesses temporal state correctly'[39m[33m,[39m () [33m=>[39m {[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at src/contexts/__tests__/NodeContext.test.tsx:113:24
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.<anonymous> (src/contexts/__tests__/NodeContext.test.tsx:113:41)

    console.error
      The above error occurred in the <Component> component:
      
          at Component (/home/runner/work/nodetool/nodetool/web/src/contexts/__tests__/NodeContext.test.tsx:110:23)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 111 |[39m       [36mreturn[39m [36mnull[39m[33m;[39m
     [90m 112 |[39m     }[33m;[39m
    [31m[1m>[22m[39m[90m 113 |[39m     expect(() [33m=>[39m render([33m<[39m[33mComponent[39m [33m/[39m[33m>[39m))[33m.[39mtoThrow([32m'useTemporalNodes must be used within a NodeProvider'[39m)[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 114 |[39m   })[33m;[39m
     [90m 115 |[39m
     [90m 116 |[39m   test([32m'accesses temporal state correctly'[39m[33m,[39m () [33m=>[39m {[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at src/contexts/__tests__/NodeContext.test.tsx:113:24
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.<anonymous> (src/contexts/__tests__/NodeContext.test.tsx:113:41)

PASS src/components/ui_primitives/__tests__/ToolbarIconButton.test.tsx
PASS src/utils/modelFilters.test.ts
PASS src/components/ui_primitives/__tests__/ExpandCollapseButton.test.tsx
PASS src/components/ui_primitives/__tests__/RefreshButton.test.tsx
PASS src/stores/__tests__/reactFlowEdgeToGraphEdge.test.ts
PASS src/utils/ColorUtils.test.ts
  ‚óè Console

    console.error
      hexToRgba: unable to parse color invalid Error: unknown hex color: invalid
          at /home/runner/work/nodetool/nodetool/web/src/__mocks__/chroma-js.ts:4:11
          at /home/runner/work/nodetool/nodetool/web/node_modules/jest-mock/build/index.js:397:39
          at /home/runner/work/nodetool/nodetool/web/node_modules/jest-mock/build/index.js:404:13
          at mockConstructor (/home/runner/work/nodetool/nodetool/web/node_modules/jest-mock/build/index.js:103:19)
          at hexToRgba (/home/runner/work/nodetool/nodetool/web/src/utils/ColorUtils.ts:23:24)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/utils/ColorUtils.test.ts:29:23)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12)

    [0m [90m 26 |[39m     [90m// Fallback: if chroma cannot parse the color, just return the original[39m
     [90m 27 |[39m     [90m// string unchanged to avoid runtime errors.[39m
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m"hexToRgba: unable to parse color"[39m[33m,[39m hex[33m,[39m err)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m     [36mreturn[39m hex[33m;[39m
     [90m 30 |[39m   }
     [90m 31 |[39m }[0m

      at hexToRgba (src/utils/ColorUtils.ts:28:13)
      at Object.<anonymous> (src/utils/ColorUtils.test.ts:29:23)

PASS src/utils/__tests__/titleizeString.test.ts
PASS src/utils/__tests__/modelFormatting.test.tsx
PASS src/__tests__/GlobalChatStore.toolcall.test.ts
PASS src/stores/__tests__/WorkflowManagerStore.test.ts
PASS src/stores/formatNodeDocumentation.test.ts
PASS src/utils/formatUtils.test.ts
PASS src/utils/__tests__/sentry.test.ts
PASS src/components/properties/__tests__/Model3DProperty.test.tsx
PASS src/utils/__tests__/binary.test.ts
PASS src/components/assets/__tests__/AssetItem.test.tsx
PASS src/stores/__tests__/InspectedNodeStore.test.ts
PASS src/hooks/nodes/__tests__/getChildNodes.test.ts
PASS src/utils/__tests__/getFileExtension.test.ts
PASS src/hooks/editor/__tests__/useEditorActions.test.ts
PASS src/hooks/assets/__tests__/useAssetDisplay.test.tsx
PASS src/utils/errorHandling.test.ts
PASS src/utils/highlightText.test.ts
PASS src/utils/__tests__/modelDownloadCheck.test.ts
PASS src/hooks/__tests__/useFocusPan.test.ts
PASS src/config/__tests__/shortcuts.test.ts
PASS src/__tests__/components/node/InputNodeNameWarning.test.tsx
PASS src/components/node/__tests__/NodeExecutionTime.test.tsx
PASS src/__tests__/components/assets/GlobalSearchResults.test.tsx (6.205 s)
PASS src/core/workflow/__tests__/graphMapping.test.ts
  ‚óè Console

    console.warn
      Edge e1 references invalid source handle "invalid" on node a (type: test). Available outputs: output. Removing edge.

    [0m [90m 123 |[39m       [36mif[39m ([33m![39msourceHasValidHandle) {
     [90m 124 |[39m         [36mconst[39m sourceDynamicOutputs [33m=[39m sourceNode[33m.[39mdata[33m.[39mdynamic_outputs [33m||[39m {}[33m;[39m
    [31m[1m>[22m[39m[90m 125 |[39m         log[33m.[39mwarn(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 126 |[39m           [32m`Edge ${edge.id} references invalid source handle "${[39m
     [90m 127 |[39m [32m            edge.sourceHandle[39m
     [90m 128 |[39m [32m          }" on node ${edge.source} (type: ${[39m[0m

      at src/core/workflow/graphMapping.ts:125:13
          at Array.filter (<anonymous>)
      at sanitizeGraph (src/core/workflow/graphMapping.ts:76:32)
      at Object.<anonymous> (src/core/workflow/__tests__/graphMapping.test.ts:91:47)

PASS src/stores/__tests__/fuseOptions.test.ts
PASS src/components/node/__tests__/ResultOverlay.test.tsx
PASS src/stores/__tests__/MiniMapStore.test.ts
PASS src/hooks/handlers/__tests__/useEdgeHandlers.test.ts
PASS src/providers/__tests__/MenuProvider.test.tsx
PASS src/hooks/handlers/__tests__/useReactFlowEvents.test.ts
PASS src/utils/__tests__/browser.test.ts
PASS src/utils/__tests__/truncateString.test.ts
PASS src/hooks/editor/__tests__/useMonacoEditor.test.ts
PASS src/hooks/__tests__/useEnsureChatConnected.test.ts
  ‚óè Console

    console.log
      useEnsureChatConnected: WebSocketManager handles connection automatically

      at src/hooks/useEnsureChatConnected.ts:26:13

PASS src/components/node_editor/__tests__/Alert.test.tsx
  ‚óè Console

    console.error
      Warning: An update to CopyButton inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/CopyButton.tsx:93:9
          at li
          at Transition (/home/runner/work/nodetool/nodetool/web/node_modules/react-transition-group/cjs/Transition.js:135:30)
          at CSSTransition (/home/runner/work/nodetool/nodetool/web/node_modules/react-transition-group/cjs/CSSTransition.js:120:35)
          at ul
          at TransitionGroup (/home/runner/work/nodetool/nodetool/web/node_modules/react-transition-group/cjs/TransitionGroup.js:57:30)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Alert (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/Alert.tsx:100:26)
          at DefaultPropsProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/DefaultPropsProvider/DefaultPropsProvider.js:17:3)
          at RtlProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/RtlProvider/index.js:15:3)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:40:5)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/ThemeProvider/ThemeProvider.js:56:5)
          at ThemeProviderNoVars (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProviderNoVars.js:15:10)
          at ThemeProvider (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/material/styles/ThemeProvider.js:16:3)

    [0m [90m 138 |[39m         writeClipboard(textToCopy[33m,[39m [36mtrue[39m)
     [90m 139 |[39m           [33m.[39mthen(() [33m=>[39m {
    [31m[1m>[22m[39m[90m 140 |[39m             setState([32m"copied"[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 141 |[39m             onCopySuccess[33m?[39m[33m.[39m()[33m;[39m
     [90m 142 |[39m             timeoutRef[33m.[39mcurrent [33m=[39m setTimeout(
     [90m 143 |[39m               () [33m=>[39m setState([32m"idle"[39m)[33m,[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/components/ui_primitives/CopyButton.tsx:140:13

PASS src/stores/__tests__/WorkflowListViewStore.test.ts
PASS src/__tests__/components/assets/AssetSearchInput.test.tsx (5.386 s)
PASS src/hooks/__tests__/useIsDarkMode.test.ts
  ‚óè Console

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 27 |[39m       mutations[33m.[39mforEach((mutation) [33m=>[39m {
     [90m 28 |[39m         [36mif[39m (mutation[33m.[39mattributeName [33m===[39m [32m"class"[39m) {
    [31m[1m>[22m[39m[90m 29 |[39m           setIsDarkMode(document[33m.[39mdocumentElement[33m.[39mclassList[33m.[39mcontains([32m"dark"[39m))[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 30 |[39m         }
     [90m 31 |[39m       })[33m;[39m
     [90m 32 |[39m     })[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/useIsDarkMode.ts:29:11
          at Array.forEach (<anonymous>)
      at MutationObserver.<anonymous> (src/hooks/useIsDarkMode.ts:27:17)
      at MutationObserver.invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/MutationCallback.js:19:26)
      at notifyMutationObservers (node_modules/jsdom/lib/jsdom/living/helpers/mutation-observers.js:160:22)
      at node_modules/jsdom/lib/jsdom/living/helpers/mutation-observers.js:133:5

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 27 |[39m       mutations[33m.[39mforEach((mutation) [33m=>[39m {
     [90m 28 |[39m         [36mif[39m (mutation[33m.[39mattributeName [33m===[39m [32m"class"[39m) {
    [31m[1m>[22m[39m[90m 29 |[39m           setIsDarkMode(document[33m.[39mdocumentElement[33m.[39mclassList[33m.[39mcontains([32m"dark"[39m))[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 30 |[39m         }
     [90m 31 |[39m       })[33m;[39m
     [90m 32 |[39m     })[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/useIsDarkMode.ts:29:11
          at Array.forEach (<anonymous>)
      at MutationObserver.<anonymous> (src/hooks/useIsDarkMode.ts:27:17)
      at MutationObserver.invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/MutationCallback.js:19:26)
      at notifyMutationObservers (node_modules/jsdom/lib/jsdom/living/helpers/mutation-observers.js:160:22)
      at node_modules/jsdom/lib/jsdom/living/helpers/mutation-observers.js:133:5

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:329:5)

    [0m [90m 27 |[39m       mutations[33m.[39mforEach((mutation) [33m=>[39m {
     [90m 28 |[39m         [36mif[39m (mutation[33m.[39mattributeName [33m===[39m [32m"class"[39m) {
    [31m[1m>[22m[39m[90m 29 |[39m           setIsDarkMode(document[33m.[39mdocumentElement[33m.[39mclassList[33m.[39mcontains([32m"dark"[39m))[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 30 |[39m         }
     [90m 31 |[39m       })[33m;[39m
     [90m 32 |[39m     })[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27589:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25508:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:17527:7)
      at src/hooks/useIsDarkMode.ts:29:11
          at Array.forEach (<anonymous>)
      at MutationObserver.<anonymous> (src/hooks/useIsDarkMode.ts:27:17)
      at MutationObserver.invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/MutationCallback.js:19:26)
      at notifyMutationObservers (node_modules/jsdom/lib/jsdom/living/helpers/mutation-observers.js:160:22)
      at node_modules/jsdom/lib/jsdom/living/helpers/mutation-observers.js:133:5

PASS src/utils/nodeDisplay.test.ts
FAIL src/components/node_editor/__tests__/NotificationsList.test.tsx
  ‚óè NotificationsList ‚Ä∫ copies content on button click

    TestingLibraryElementError: Unable to find an element with the title: Copy to clipboard.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"notifications-list-container MuiBox-root css-vv0nac"[39m
        [36m>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"MuiList-root MuiList-padding MuiList-dense notifications-list css-b7dj7n-MuiList-root"[39m
          [36m>[39m
            [36m<li[39m
              [33mclass[39m=[32m"MuiListItem-root MuiListItem-dense MuiListItem-gutters MuiListItem-padding notification-item error css-qyw6ft-MuiListItem-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiListItemText-root MuiListItemText-dense notification-content css-cfq8qh-MuiListItemText-root"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiListItemText-primary css-7ctihp-MuiTypography-root"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"notification-row"[39m
                    [33mstyle[39m=[32m"display: flex;"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"time notification-timestamp"[39m
                    [36m>[39m
                      [0m24:00:02[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"message notification-message error-message"[39m
                      [33mstyle[39m=[32m"word-wrap: break-word;"[39m
                    [36m>[39m
                      [0msecond[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</span>[39m
              [36m</div>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Copy to clipboard"[39m
                [33mclass[39m=[32m"MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall copy-button copy-button css-5yvy47-MuiButtonBase-root-MuiIconButton-root"[39m
                [33mdata-mui-internal-clone-element[39m=[32m"true"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1rnodsl-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"ContentCopyIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</li>[39m
            [36m<li[39m
              [33mclass[39m=[32m"MuiListItem-root MuiListItem-dense MuiListItem-gutters MuiListItem-padding notification-item info css-qyw6ft-MuiListItem-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiListItemText-root MuiListItemText-dense notification-content css-cfq8qh-MuiListItemText-root"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiListItemText-primary css-7ctihp-MuiTypography-root"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"notification-row"[39m
                    [33mstyle[39m=[32m"display: flex;"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"time notification-timestamp"[39m
                    [36m>[39m
                      [0m24:00:01[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"message notification-message info-message"[39m
                      [33mstyle[39m=[32m"word-wrap: break-word;"[39m
                    [36m>[39m
                      [0mfirst[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</span>[39m
              [36m</div>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Copy to clipboard"[39m
                [33mclass[39m=[32m"MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall copy-button copy-button css-5yvy47-MuiButtonBase-root-MuiIconButton-root"[39m
                [33mdata-mui-internal-clone-element[39m=[32m"true"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1rnodsl-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"ContentCopyIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 58 |[39m       [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m
     [90m 59 |[39m     )[33m;[39m
    [31m[1m>[22m[39m[90m 60 |[39m     [36mconst[39m btns [33m=[39m screen[33m.[39mgetAllByTitle([32m"Copy to clipboard"[39m)[33m;[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 61 |[39m     fireEvent[33m.[39mclick(btns[[35m0[39m])[33m;[39m
     [90m 62 |[39m     expect(mockWriteClipboard)[33m.[39mtoHaveBeenCalledWith([32m"second"[39m[33m,[39m [36mtrue[39m)[33m;[39m
     [90m 63 |[39m   })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.<anonymous> (src/components/node_editor/__tests__/NotificationsList.test.tsx:60:25)

PASS src/lib/websocket/__tests__/GlobalWebSocketManager.test.ts
PASS src/components/common/__tests__/CopyToClipboardButton.test.tsx
PASS src/__tests__/frontendTools.test.ts
PASS src/__tests__/components/node/DatetimeRenderer.test.tsx
PASS src/components/assets/__tests__/FolderItem.test.tsx
PASS src/components/__tests__/Logo.test.tsx
PASS src/serverState/__tests__/tryCacheFiles.test.ts
PASS src/utils/__tests__/nodeDisplay.test.ts
PASS src/stores/__tests__/CollectionsManagerStore.test.ts
PASS src/hooks/editor/__tests__/useModalResize.test.ts
PASS src/components/properties/__tests__/BoolProperty.test.tsx
PASS src/utils/sanitize.test.ts
PASS src/stores/__tests__/uuidv4.test.ts
PASS src/utils/binary.test.ts
FAIL src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 45 |[39m
     [90m 46 |[39m   it([32m"renders when visible with 2+ nodes selected"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 47 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 48 |[39m     [36mconst[39m toolbar [33m=[39m screen[33m.[39mgetByRole([32m"region"[39m[33m,[39m { name[33m:[39m [35m/selection action toolbar/i[39m })[33m;[39m
     [90m 49 |[39m     expect(toolbar)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25738:74)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'palette')]
          at reportException (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
          at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
          at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
          at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
          at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
          at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
          at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
          at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
          at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
          at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: TypeError: Cannot read properties of undefined (reading 'palette')
            at getVariantStyles (/home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
            at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:120:29
            at renderWithHooks (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:16305:18)
            at updateForwardRef (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:19226:20)
            at beginWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:21636:16)
            at HTMLUnknownElement.callCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/runner/work/nodetool/nodetool/web/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:27451:7)
            at performUnitOfWork (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26560:12)
            at workLoopSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26466:5)
            at renderRootSync (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:26434:7)
            at recoverFromConcurrentError (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25850:20)
            at performConcurrentWorkOnRoot (/home/runner/work/nodetool/nodetool/web/node_modules/react-dom/cjs/react-dom.development.js:25750:22)
            at flushActQueue (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2667:24)
            at act (/home/runner/work/nodetool/nodetool/web/node_modules/react/cjs/react.development.js:2582:11)
            at /home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/home/runner/work/nodetool/nodetool/web/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)
            at Promise.then.completed (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/runner/work/nodetool/nodetool/web/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/runner/work/nodetool/nodetool/web/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27451:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

    console.error
      The above error occurred in the <ToolbarIconButton> component:
      
          at /home/runner/work/nodetool/nodetool/web/src/components/ui_primitives/ToolbarIconButton.tsx:76:9
          at div
          at /home/runner/work/nodetool/nodetool/web/node_modules/@emotion/react/dist/emotion-element-a1829a1e.cjs.js:58:23
          at Box (/home/runner/work/nodetool/nodetool/web/node_modules/@mui/system/createBox/createBox.js:27:41)
          at SelectionActionToolbar (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/SelectionActionToolbar.tsx:78:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 56 |[39m
     [90m 57 |[39m   it([32m"contains multiple action buttons"[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 58 |[39m     render([33m<[39m[33mSelectionActionToolbar[39m visible[33m=[39m{[36mtrue[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 59 |[39m     [36mconst[39m buttons [33m=[39m screen[33m.[39mgetAllByRole([32m"button"[39m)[33m;[39m
     [90m 60 |[39m     expect(buttons[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m5[39m)[33m;[39m
     [90m 61 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18687:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18720:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:13923:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:13944:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23391:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24688:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24674:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24612:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26823:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26682:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25892:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25809:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

  ‚óè SelectionActionToolbar ‚Ä∫ renders when visible with 2+ nodes selected

    TypeError: Cannot read properties of undefined (reading 'palette')

    [0m [90m 109 |[39m           [36mdefault[39m[33m:[39m
     [90m 110 |[39m             [36mreturn[39m {
    [31m[1m>[22m[39m[90m 111 |[39m               color[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m200[39m][33m,[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 112 |[39m               [32m"&:hover"[39m[33m:[39m {
     [90m 113 |[39m                 backgroundColor[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m800[39m][33m,[39m
     [90m 114 |[39m                 color[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m0[39m][0m

      at getVariantStyles (src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
      at src/components/ui_primitives/ToolbarIconButton.tsx:120:29
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:16305:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:19226:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21636:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27426:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

  ‚óè SelectionActionToolbar ‚Ä∫ contains multiple action buttons

    TypeError: Cannot read properties of undefined (reading 'palette')

    [0m [90m 109 |[39m           [36mdefault[39m[33m:[39m
     [90m 110 |[39m             [36mreturn[39m {
    [31m[1m>[22m[39m[90m 111 |[39m               color[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m200[39m][33m,[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 112 |[39m               [32m"&:hover"[39m[33m:[39m {
     [90m 113 |[39m                 backgroundColor[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m800[39m][33m,[39m
     [90m 114 |[39m                 color[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m0[39m][0m

      at getVariantStyles (src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
      at src/components/ui_primitives/ToolbarIconButton.tsx:120:29
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:16305:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:19226:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21636:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27426:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)

PASS src/__tests__/components/node/CalendarEventView.test.tsx
PASS src/__tests__/components/assets/AssetExplorer.test.tsx
PASS src/stores/__tests__/PanelStore.test.ts
PASS src/hooks/__tests__/useLoraModels.test.ts
PASS src/components/node_editor/__tests__/ConnectionLine.test.tsx
  ‚óè Console

    console.error
      Warning: The tag <path> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.
          at path
          at g
          at ConnectionLine (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/ConnectionLine.tsx:14:3)

    [0m [90m 25 |[39m describe([32m'ConnectionLine'[39m[33m,[39m () [33m=>[39m {
     [90m 26 |[39m   it([32m'renders bezier path and class'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 27 |[39m     [36mconst[39m { container } [33m=[39m render(
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 28 |[39m       [33m<[39m[33mConnectionLine[39m
     [90m 29 |[39m         {[33m...[39m({
     [90m 30 |[39m           fromX[33m:[39m [35m0[39m[33m,[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9816:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/ConnectionLine.test.tsx:27:33)

    console.error
      Warning: The tag <rect> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.
          at rect
          at g
          at ConnectionLine (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/ConnectionLine.tsx:14:3)

    [0m [90m 25 |[39m describe([32m'ConnectionLine'[39m[33m,[39m () [33m=>[39m {
     [90m 26 |[39m   it([32m'renders bezier path and class'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 27 |[39m     [36mconst[39m { container } [33m=[39m render(
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 28 |[39m       [33m<[39m[33mConnectionLine[39m
     [90m 29 |[39m         {[33m...[39m({
     [90m 30 |[39m           fromX[33m:[39m [35m0[39m[33m,[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9816:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/ConnectionLine.test.tsx:27:33)

    console.error
      Warning: The tag <g> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.
          at g
          at ConnectionLine (/home/runner/work/nodetool/nodetool/web/src/components/node_editor/ConnectionLine.tsx:14:3)

    [0m [90m 25 |[39m describe([32m'ConnectionLine'[39m[33m,[39m () [33m=>[39m {
     [90m 26 |[39m   it([32m'renders bezier path and class'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 27 |[39m     [36mconst[39m { container } [33m=[39m render(
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 28 |[39m       [33m<[39m[33mConnectionLine[39m
     [90m 29 |[39m         {[33m...[39m({
     [90m 30 |[39m           fromX[33m:[39m [35m0[39m[33m,[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9816:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22187:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26593:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26568:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25738:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/ConnectionLine.test.tsx:27:33)

PASS src/components/__tests__/ProtectedRoute.test.tsx
PASS src/hooks/assets/__tests__/useAssetDownload.test.ts
PASS src/utils/__tests__/platform.test.ts
PASS src/hooks/editor/__tests__/useEditorMode.test.ts
PASS src/utils/__tests__/uuidv4.test.ts
PASS src/hooks/editor/__tests__/useEditorKeyboardShortcuts.test.ts
PASS src/stores/__tests__/ConnectableNodesStore.test.ts
PASS src/serverState/__tests__/useAsset.test.tsx
PASS src/utils/titleizeString.test.ts
PASS src/hooks/assets/__tests__/useAssetNavigation.test.ts
PASS src/components/__tests__/InfiniteScroll.test.tsx
PASS src/components/workspaces/__tests__/WorkspaceManagerStore.test.ts
PASS src/hooks/editor/__tests__/useAssistantVisibility.test.ts
PASS src/utils/__tests__/serializeValue.test.ts
PASS src/hooks/editor/__tests__/useCodeLanguage.test.ts
PASS src/hooks/editor/__tests__/useFullscreenMode.test.ts
PASS src/components/__tests__/KeyboardProvider.test.tsx
PASS src/core/workflow/__tests__/runnerProtocol.test.ts
PASS src/components/node_editor/__tests__/LoadingAnimation.test.tsx
PASS src/components/properties/__tests__/NonEditableProperty.test.tsx
PASS src/hooks/nodes/__tests__/useInputNodeAutoRun.test.ts

Summary of all failing tests
FAIL src/hooks/__tests__/useRunningJobs.test.tsx
  ‚óè useRunningJobs ‚Ä∫ filters to only active jobs

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 3
    Received array:  [{"id": "job-1", "is_resumable": false, "job_type": "workflow", "status": "running", "user_id": "test-user", "workflow_id": "workflow-1"}, {"id": "job-2", "is_resumable": false, "job_type": "workflow", "status": "queued", "user_id": "test-user", "workflow_id": "workflow-2"}, {"id": "job-3", "is_resumable": false, "job_type": "workflow", "status": "completed", "user_id": "test-user", "workflow_id": "workflow-3"}]

    [0m [90m 90 |[39m     })[33m;[39m
     [90m 91 |[39m
    [31m[1m>[22m[39m[90m 92 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 93 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mmap((j) [33m=>[39m j[33m.[39mid))[33m.[39mtoEqual([[32m"job-1"[39m[33m,[39m [32m"job-2"[39m])[33m;[39m
     [90m 94 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mfind((j) [33m=>[39m j[33m.[39mid [33m===[39m [32m"job-3"[39m))[33m.[39mtoBeUndefined()[33m;[39m
     [90m 95 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useRunningJobs.test.tsx:92:33)

  ‚óè useRunningJobs ‚Ä∫ includes jobs with suspended status

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  [{"id": "job-1", "is_resumable": false, "job_type": "workflow", "status": "running", "user_id": "test-user", "workflow_id": "workflow-1"}, {"id": "job-2", "is_resumable": false, "job_type": "workflow", "status": "queued", "user_id": "test-user", "workflow_id": "workflow-2"}, {"id": "job-3", "is_resumable": false, "job_type": "workflow", "status": "completed", "user_id": "test-user", "workflow_id": "workflow-3"}, {"created_at": "2026-01-22T10:15:00Z", "id": "job-4", "status": "suspended", "type": "job", "workflow_id": "workflow-4"}]

    [0m [90m 173 |[39m     })[33m;[39m
     [90m 174 |[39m
    [31m[1m>[22m[39m[90m 175 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 176 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mfind((j) [33m=>[39m j[33m.[39mid [33m===[39m [32m"job-4"[39m))[33m.[39mtoBeDefined()[33m;[39m
     [90m 177 |[39m   })[33m;[39m
     [90m 178 |[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useRunningJobs.test.tsx:175:33)

  ‚óè useRunningJobs ‚Ä∫ includes jobs with paused status

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  [{"id": "job-1", "is_resumable": false, "job_type": "workflow", "status": "running", "user_id": "test-user", "workflow_id": "workflow-1"}, {"id": "job-2", "is_resumable": false, "job_type": "workflow", "status": "queued", "user_id": "test-user", "workflow_id": "workflow-2"}, {"id": "job-3", "is_resumable": false, "job_type": "workflow", "status": "completed", "user_id": "test-user", "workflow_id": "workflow-3"}, {"created_at": "2026-01-22T10:20:00Z", "id": "job-5", "status": "paused", "type": "job", "workflow_id": "workflow-5"}]

    [0m [90m 201 |[39m     })[33m;[39m
     [90m 202 |[39m
    [31m[1m>[22m[39m[90m 203 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 204 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mfind((j) [33m=>[39m j[33m.[39mid [33m===[39m [32m"job-5"[39m))[33m.[39mtoBeDefined()[33m;[39m
     [90m 205 |[39m   })[33m;[39m
     [90m 206 |[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useRunningJobs.test.tsx:203:33)

  ‚óè useRunningJobs ‚Ä∫ includes jobs with starting status

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  [{"id": "job-1", "is_resumable": false, "job_type": "workflow", "status": "running", "user_id": "test-user", "workflow_id": "workflow-1"}, {"id": "job-2", "is_resumable": false, "job_type": "workflow", "status": "queued", "user_id": "test-user", "workflow_id": "workflow-2"}, {"id": "job-3", "is_resumable": false, "job_type": "workflow", "status": "completed", "user_id": "test-user", "workflow_id": "workflow-3"}, {"created_at": "2026-01-22T10:25:00Z", "id": "job-6", "status": "starting", "type": "job", "workflow_id": "workflow-6"}]

    [0m [90m 229 |[39m     })[33m;[39m
     [90m 230 |[39m
    [31m[1m>[22m[39m[90m 231 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 232 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mfind((j) [33m=>[39m j[33m.[39mid [33m===[39m [32m"job-6"[39m))[33m.[39mtoBeDefined()[33m;[39m
     [90m 233 |[39m   })[33m;[39m
     [90m 234 |[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useRunningJobs.test.tsx:231:33)

  ‚óè useRunningJobs ‚Ä∫ filters out failed jobs

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  [{"id": "job-1", "is_resumable": false, "job_type": "workflow", "status": "running", "user_id": "test-user", "workflow_id": "workflow-1"}, {"id": "job-2", "is_resumable": false, "job_type": "workflow", "status": "queued", "user_id": "test-user", "workflow_id": "workflow-2"}, {"id": "job-3", "is_resumable": false, "job_type": "workflow", "status": "completed", "user_id": "test-user", "workflow_id": "workflow-3"}, {"created_at": "2026-01-22T10:30:00Z", "id": "job-7", "status": "failed", "type": "job", "workflow_id": "workflow-7"}]

    [0m [90m 257 |[39m     })[33m;[39m
     [90m 258 |[39m
    [31m[1m>[22m[39m[90m 259 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 260 |[39m     expect(result[33m.[39mcurrent[33m.[39mdata[33m?[39m[33m.[39mfind((j) [33m=>[39m j[33m.[39mid [33m===[39m [32m"job-7"[39m))[33m.[39mtoBeUndefined()[33m;[39m
     [90m 261 |[39m   })[33m;[39m
     [90m 262 |[39m })[33m;[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useRunningJobs.test.tsx:259:33)

FAIL src/components/node_editor/__tests__/NotificationsList.test.tsx
  ‚óè NotificationsList ‚Ä∫ copies content on button click

    TestingLibraryElementError: Unable to find an element with the title: Copy to clipboard.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"notifications-list-container MuiBox-root css-vv0nac"[39m
        [36m>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"MuiList-root MuiList-padding MuiList-dense notifications-list css-b7dj7n-MuiList-root"[39m
          [36m>[39m
            [36m<li[39m
              [33mclass[39m=[32m"MuiListItem-root MuiListItem-dense MuiListItem-gutters MuiListItem-padding notification-item error css-qyw6ft-MuiListItem-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiListItemText-root MuiListItemText-dense notification-content css-cfq8qh-MuiListItemText-root"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiListItemText-primary css-7ctihp-MuiTypography-root"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"notification-row"[39m
                    [33mstyle[39m=[32m"display: flex;"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"time notification-timestamp"[39m
                    [36m>[39m
                      [0m24:00:02[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"message notification-message error-message"[39m
                      [33mstyle[39m=[32m"word-wrap: break-word;"[39m
                    [36m>[39m
                      [0msecond[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</span>[39m
              [36m</div>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Copy to clipboard"[39m
                [33mclass[39m=[32m"MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall copy-button copy-button css-5yvy47-MuiButtonBase-root-MuiIconButton-root"[39m
                [33mdata-mui-internal-clone-element[39m=[32m"true"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1rnodsl-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"ContentCopyIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</li>[39m
            [36m<li[39m
              [33mclass[39m=[32m"MuiListItem-root MuiListItem-dense MuiListItem-gutters MuiListItem-padding notification-item info css-qyw6ft-MuiListItem-root"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"MuiListItemText-root MuiListItemText-dense notification-content css-cfq8qh-MuiListItemText-root"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"MuiTypography-root MuiTypography-body2 MuiListItemText-primary css-7ctihp-MuiTypography-root"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"notification-row"[39m
                    [33mstyle[39m=[32m"display: flex;"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"time notification-timestamp"[39m
                    [36m>[39m
                      [0m24:00:01[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"message notification-message info-message"[39m
                      [33mstyle[39m=[32m"word-wrap: break-word;"[39m
                    [36m>[39m
                      [0mfirst[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</span>[39m
              [36m</div>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Copy to clipboard"[39m
                [33mclass[39m=[32m"MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall copy-button copy-button css-5yvy47-MuiButtonBase-root-MuiIconButton-root"[39m
                [33mdata-mui-internal-clone-element[39m=[32m"true"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1rnodsl-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"ContentCopyIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 58 |[39m       [33m<[39m[33m/[39m[33mThemeProvider[39m[33m>[39m
     [90m 59 |[39m     )[33m;[39m
    [31m[1m>[22m[39m[90m 60 |[39m     [36mconst[39m btns [33m=[39m screen[33m.[39mgetAllByTitle([32m"Copy to clipboard"[39m)[33m;[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 61 |[39m     fireEvent[33m.[39mclick(btns[[35m0[39m])[33m;[39m
     [90m 62 |[39m     expect(mockWriteClipboard)[33m.[39mtoHaveBeenCalledWith([32m"second"[39m[33m,[39m [36mtrue[39m)[33m;[39m
     [90m 63 |[39m   })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.<anonymous> (src/components/node_editor/__tests__/NotificationsList.test.tsx:60:25)

FAIL src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx
  ‚óè SelectionActionToolbar ‚Ä∫ renders when visible with 2+ nodes selected

    TypeError: Cannot read properties of undefined (reading 'palette')

    [0m [90m 109 |[39m           [36mdefault[39m[33m:[39m
     [90m 110 |[39m             [36mreturn[39m {
    [31m[1m>[22m[39m[90m 111 |[39m               color[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m200[39m][33m,[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 112 |[39m               [32m"&:hover"[39m[33m:[39m {
     [90m 113 |[39m                 backgroundColor[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m800[39m][33m,[39m
     [90m 114 |[39m                 color[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m0[39m][0m

      at getVariantStyles (src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
      at src/components/ui_primitives/ToolbarIconButton.tsx:120:29
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:16305:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:19226:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21636:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27426:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:47:11)

  ‚óè SelectionActionToolbar ‚Ä∫ contains multiple action buttons

    TypeError: Cannot read properties of undefined (reading 'palette')

    [0m [90m 109 |[39m           [36mdefault[39m[33m:[39m
     [90m 110 |[39m             [36mreturn[39m {
    [31m[1m>[22m[39m[90m 111 |[39m               color[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m200[39m][33m,[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 112 |[39m               [32m"&:hover"[39m[33m:[39m {
     [90m 113 |[39m                 backgroundColor[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m800[39m][33m,[39m
     [90m 114 |[39m                 color[33m:[39m theme[33m.[39mvars[33m.[39mpalette[33m.[39mgrey[[35m0[39m][0m

      at getVariantStyles (src/components/ui_primitives/ToolbarIconButton.tsx:111:33)
      at src/components/ui_primitives/ToolbarIconButton.tsx:120:29
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:16305:18)
      at updateForwardRef (node_modules/react-dom/cjs/react-dom.development.js:19226:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21636:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27426:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26560:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26466:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26434:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25850:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25750:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/node_editor/__tests__/SelectionActionToolbar.test.tsx:58:11)


Test Suites: 3 failed, 1 skipped, 258 passed, 261 of 262 total
Tests:       8 failed, 18 skipped, 3385 passed, 3411 total
Snapshots:   0 total
Time:        33.681 s
Ran all test suites.
make: *** [Makefile:92: test-web] Error 1
