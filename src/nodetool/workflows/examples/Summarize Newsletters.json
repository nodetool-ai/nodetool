{
  "id": "66a76fbad01511ef97f9000025dd7c17",
  "access": "public",
  "created_at": "2025-01-11T18:20:56.686661",
  "updated_at": "2025-01-11T18:20:56.686672",
  "name": "Summarize Newsletters",
  "description": "",
  "tags": null,
  "thumbnail": null,
  "thumbnail_url": null,
  "graph": {
    "nodes": [
      {
        "id": "12",
        "parent_id": null,
        "type": "nodetool.group.Loop",
        "data": {},
        "ui_properties": {
          "position": {
            "x": 472,
            "y": 50
          },
          "zIndex": -10,
          "width": 1778,
          "height": 598,
          "selectable": false
        }
      },
      {
        "id": "13",
        "parent_id": "12",
        "type": "nodetool.input.GroupInput",
        "data": {},
        "ui_properties": {
          "position": {
            "x": 50,
            "y": 390
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "14",
        "parent_id": "12",
        "type": "nodetool.output.GroupOutput",
        "data": {},
        "ui_properties": {
          "position": {
            "x": 1528,
            "y": 375
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "17",
        "parent_id": null,
        "type": "nodetool.workflows.base_node.Preview",
        "data": {
          "name": "any_output_2024-12-29"
        },
        "ui_properties": {
          "position": {
            "x": 2310,
            "y": 174
          },
          "zIndex": 0,
          "width": 171,
          "height": 150,
          "selectable": true
        }
      },
      {
        "id": "18",
        "parent_id": "12",
        "type": "nodetool.workflows.base_node.Preview",
        "data": {
          "name": "str_output_2024-12-29"
        },
        "ui_properties": {
          "position": {
            "x": 1298,
            "y": 50
          },
          "zIndex": 0,
          "width": 200,
          "height": 150,
          "selectable": true
        }
      },
      {
        "id": "20",
        "parent_id": null,
        "type": "google.mail.GmailSearch",
        "data": {
          "email_address": "matti.georgi@gmail.com",
          "search_query": "",
          "max_results": 20
        },
        "ui_properties": {
          "position": {
            "x": 242,
            "y": 269
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "22",
        "parent_id": "12",
        "type": "nodetool.network.imap.EmailFields",
        "data": {},
        "ui_properties": {
          "position": {
            "x": 280,
            "y": 299
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "23",
        "parent_id": "12",
        "type": "nodetool.dictionary.MakeDictionary",
        "data": {
          "key2": "subject",
          "key1": "category",
          "key3": "body"
        },
        "ui_properties": {
          "position": {
            "x": 1298,
            "y": 250
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "25",
        "parent_id": "12",
        "type": "nodetool.text.Concat",
        "data": {},
        "ui_properties": {
          "position": {
            "x": 765.3333333333334,
            "y": 199
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "26",
        "parent_id": "12",
        "type": "ollama.agents.Classifier",
        "data": {
          "model": {
            "type": "llama_model",
            "repo_id": "gemma2:2b"
          },
          "context_window": 4096,
          "labels": "newsletter,notification,marketing,other",
          "temperature": 0.2,
          "top_k": 5,
          "top_p": 0.5,
          "keep_alive": 300
        },
        "ui_properties": {
          "position": {
            "x": 1038,
            "y": 125
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "28",
        "parent_id": null,
        "type": "nodetool.list.FilterDictsByValue",
        "data": {
          "key": "category",
          "filter_type": "contains",
          "criteria": "newsletter"
        },
        "ui_properties": {
          "position": {
            "x": 2310,
            "y": 374
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "29",
        "parent_id": null,
        "type": "nodetool.workflows.base_node.Preview",
        "data": {
          "name": "list_output_2025-01-11"
        },
        "ui_properties": {
          "position": {
            "x": 2570,
            "y": 575
          },
          "zIndex": 0,
          "width": 200,
          "height": 150,
          "selectable": true
        }
      },
      {
        "id": "30",
        "parent_id": null,
        "type": "nodetool.list.MapField",
        "data": {
          "field": "body",
          "default": null
        },
        "ui_properties": {
          "position": {
            "x": 2570,
            "y": 373
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "31",
        "parent_id": null,
        "type": "nodetool.list.JoinStrings",
        "data": {
          "delimiter": "==============================="
        },
        "ui_properties": {
          "position": {
            "x": 2800,
            "y": 386
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "34",
        "parent_id": null,
        "type": "nodetool.workflows.base_node.Preview",
        "data": {
          "name": "str_output_2025-01-11"
        },
        "ui_properties": {
          "position": {
            "x": 3260,
            "y": 374
          },
          "zIndex": 0,
          "width": 200,
          "height": 150,
          "selectable": true
        }
      },
      {
        "id": "35",
        "parent_id": null,
        "type": "ollama.agents.Summarizer",
        "data": {
          "model": {
            "type": "llama_model",
            "repo_id": "gemma2:2b"
          },
          "context_window": 4096,
          "max_length": 1000,
          "temperature": 0.7,
          "top_k": 50,
          "top_p": 0.95,
          "keep_alive": 300,
          "system_prompt": "You are an expert text summarizer. Follow these guidelines:\n\n1. Content Focus:\n   - Extract main arguments, findings, and conclusions\n   - Preserve critical evidence and methodologies\n   - Maintain factual accuracy and context\n   - Include key statistics when relevant\n\n2. Structure and Style:\n   - Present information in logical flow\n   - Use clear, precise language\n   - Balance brevity with completeness\n   - Adapt style to match source material\n\n3. Quality Standards:\n   - Include only information from the source\n   - Avoid personal interpretation\n   - Maintain technical accuracy\n   - Preserve nuance in complex topics\n\nYour goal is to create an accurate, useful, and efficient representation of the original text while maintaining its core meaning and significance."
        },
        "ui_properties": {
          "selected": false,
          "position": {
            "x": 3030,
            "y": 309
          },
          "zIndex": 0,
          "width": 200,
          "selectable": true
        }
      },
      {
        "id": "36",
        "parent_id": "12",
        "type": "ollama.agents.Summarizer",
        "data": {
          "model": {
            "type": "llama_model",
            "repo_id": "gemma2:2b"
          },
          "context_window": 8192,
          "max_length": 500,
          "temperature": 0.7,
          "top_k": 50,
          "top_p": 0.95,
          "keep_alive": 300,
          "style": "technical",
          "audience": "nerds",
          "focus_aspects": "innovation,insights",
          "system_prompt": "You are an expert text summarizer. Follow these guidelines:\n\n1. Content Focus:\n   - Extract main arguments, findings, and conclusions\n   - Preserve critical evidence and methodologies\n   - Maintain factual accuracy and context\n   - Include key statistics when relevant\n\n2. Structure and Style:\n   - Present information in logical flow\n   - Use clear, precise language\n   - Balance brevity with completeness\n   - Adapt style to match source material\n\n3. Quality Standards:\n   - Include only information from the source\n   - Avoid personal interpretation\n   - Maintain technical accuracy\n   - Preserve nuance in complex topics\n\nYour goal is to create an accurate, useful, and efficient representation of the original text while maintaining its core meaning and significance."
        },
        "ui_properties": {
          "selected": false,
          "position": {
            "x": 540,
            "y": 258
          },
          "zIndex": 0,
          "width": 159,
          "selectable": true
        }
      },
      {
        "id": "37",
        "parent_id": "12",
        "type": "nodetool.workflows.base_node.Preview",
        "data": {
          "name": "str_output_2025-01-11"
        },
        "ui_properties": {
          "position": {
            "x": 759,
            "y": 398
          },
          "zIndex": 0,
          "width": 219,
          "height": 150,
          "selectable": true
        }
      },
      {
        "id": "38",
        "parent_id": null,
        "type": "google.mail.EmailSearchCriteria",
        "data": {
          "from_address": "",
          "to_address": "",
          "subject": "AINews",
          "body": "",
          "date_filter": "SINCE_ONE_WEEK",
          "flags": null,
          "keywords": "",
          "folder": "INBOX",
          "text": null
        },
        "ui_properties": {
          "position": {
            "x": 50,
            "y": 104
          },
          "zIndex": 0,
          "width": 162,
          "selectable": true
        }
      },
      {
        "id": "39",
        "parent_id": null,
        "type": "nodetool.workflows.base_node.Comment",
        "data": {
          "comment": [
            {
              "type": "paragraph",
              "children": [
                {
                  "text": "This workflow summarizes newsletters from your inbox."
                }
              ]
            },
            {
              "type": "paragraph",
              "children": [
                {
                  "text": ""
                }
              ]
            },
            {
              "type": "paragraph",
              "children": [
                {
                  "text": "Edit the subject to filter the right emails."
                }
              ]
            },
            {
              "type": "paragraph",
              "children": [
                {
                  "text": ""
                }
              ]
            },
            {
              "type": "paragraph",
              "children": [
                {
                  "text": "Adjust the system prompts"
                }
              ]
            },
            {
              "type": "paragraph",
              "children": [
                {
                  "text": ""
                }
              ]
            }
          ]
        },
        "ui_properties": {
          "selected": false,
          "position": {
            "x": -319,
            "y": 193
          },
          "zIndex": 0,
          "width": 356,
          "height": 173,
          "selectable": true
        }
      }
    ],
    "edges": [
      {
        "id": "019f70a8-ba9a-4da2-a433-1cb26f370c40",
        "source": "13",
        "sourceHandle": "output",
        "target": "22",
        "targetHandle": "email",
        "ui_properties": {
          "className": "any"
        }
      },
      {
        "id": "7e544523-6f3a-4407-8ed9-785c9389988e",
        "source": "26",
        "sourceHandle": "output",
        "target": "18",
        "targetHandle": "value",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "724a00c8-dfc2-4f3d-bb42-0b4e573e08bd",
        "source": "23",
        "sourceHandle": "output",
        "target": "14",
        "targetHandle": "input",
        "ui_properties": {
          "className": "dict"
        }
      },
      {
        "id": "58335",
        "source": "12",
        "sourceHandle": "output",
        "target": "17",
        "targetHandle": "value",
        "ui_properties": {
          "className": "any"
        }
      },
      {
        "id": "15c65be9-4ede-4e6e-ab4e-f62f0f4c7296",
        "source": "12",
        "sourceHandle": "output",
        "target": "28",
        "targetHandle": "values",
        "ui_properties": {
          "className": "any"
        }
      },
      {
        "id": "a270ae57-f9f7-42f4-98f1-81891f2618a6",
        "source": "31",
        "sourceHandle": "output",
        "target": "35",
        "targetHandle": "text",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "76e2e828-cc3b-4255-b19c-4ae5b5cbbd9a",
        "source": "30",
        "sourceHandle": "output",
        "target": "31",
        "targetHandle": "values",
        "ui_properties": {
          "className": "list"
        }
      },
      {
        "id": "08465db1-1dfd-4199-bf47-14c0a6b3610c",
        "source": "20",
        "sourceHandle": "output",
        "target": "12",
        "targetHandle": "input",
        "ui_properties": {
          "className": "list"
        }
      },
      {
        "id": "a563f4cf-b41c-4ff1-a5ba-0eca90be0221",
        "source": "35",
        "sourceHandle": "output",
        "target": "34",
        "targetHandle": "value",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "79986c7a-a2cf-4904-89fa-4effbe58d784",
        "source": "22",
        "sourceHandle": "body",
        "target": "36",
        "targetHandle": "text",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "271e790e-eb6d-4a2f-a9a8-ca642c60c059",
        "source": "28",
        "sourceHandle": "output",
        "target": "30",
        "targetHandle": "values",
        "ui_properties": {
          "className": "list"
        }
      },
      {
        "id": "79987",
        "source": "36",
        "sourceHandle": "output",
        "target": "37",
        "targetHandle": "value",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "96a69b90-9c7a-4c77-acfe-74f947b8ce38",
        "source": "38",
        "sourceHandle": "output",
        "target": "20",
        "targetHandle": "search_criteria",
        "ui_properties": {
          "className": "email_search_criteria"
        }
      },
      {
        "id": "1e6e8896-9b28-4179-80a4-06aa8be63228",
        "source": "26",
        "sourceHandle": "output",
        "target": "23",
        "targetHandle": "value1",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "d1413e9c-307a-411c-b1cf-8a31be4ce037",
        "source": "22",
        "sourceHandle": "subject",
        "target": "23",
        "targetHandle": "value2",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "58336",
        "source": "28",
        "sourceHandle": "output",
        "target": "29",
        "targetHandle": "value",
        "ui_properties": {
          "className": "list"
        }
      },
      {
        "id": "88b03d54-3138-4422-b77d-fd9c6924aa14",
        "source": "25",
        "sourceHandle": "output",
        "target": "26",
        "targetHandle": "input_text",
        "ui_properties": {
          "className": "union"
        }
      },
      {
        "id": "1fede168-8736-4315-8e0c-6589dbcd48e8",
        "source": "22",
        "sourceHandle": "subject",
        "target": "25",
        "targetHandle": "a",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "e3d0a968-cce8-46c1-a886-d1d34f729090",
        "source": "36",
        "sourceHandle": "output",
        "target": "25",
        "targetHandle": "b",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "a967d5a3-7fba-4e8e-88f3-64f2f9efd69e",
        "source": "36",
        "sourceHandle": "output",
        "target": "23",
        "targetHandle": "value3",
        "ui_properties": {
          "className": "str"
        }
      }
    ]
  },
  "input_schema": null,
  "output_schema": null
}