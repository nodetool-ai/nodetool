schema = {'info': {'title': 'Cog', 'version': '0.1.0'}, 'paths': {'/': {'get': {'summary': 'Root', 'responses': {'200': {'content': {'application/json': {'schema': {'title': 'Response Root  Get'}}}, 'description': 'Successful Response'}}, 'operationId': 'root__get'}}, '/shutdown': {'post': {'summary': 'Start Shutdown', 'responses': {'200': {'content': {'application/json': {'schema': {'title': 'Response Start Shutdown Shutdown Post'}}}, 'description': 'Successful Response'}}, 'operationId': 'start_shutdown_shutdown_post'}}, '/predictions': {'post': {'summary': 'Predict', 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/PredictionResponse'}}}, 'description': 'Successful Response'}, '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}, 'description': 'Validation Error'}}, 'parameters': [{'in': 'header', 'name': 'prefer', 'schema': {'type': 'string', 'title': 'Prefer'}, 'required': False}], 'description': 'Run a single prediction on the model', 'operationId': 'predict_predictions_post', 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/PredictionRequest'}}}}}}, '/health-check': {'get': {'summary': 'Healthcheck', 'responses': {'200': {'content': {'application/json': {'schema': {'title': 'Response Healthcheck Health Check Get'}}}, 'description': 'Successful Response'}}, 'operationId': 'healthcheck_health_check_get'}}, '/predictions/{prediction_id}': {'put': {'summary': 'Predict Idempotent', 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/PredictionResponse'}}}, 'description': 'Successful Response'}, '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}, 'description': 'Validation Error'}}, 'parameters': [{'in': 'path', 'name': 'prediction_id', 'schema': {'type': 'string', 'title': 'Prediction ID'}, 'required': True}, {'in': 'header', 'name': 'prefer', 'schema': {'type': 'string', 'title': 'Prefer'}, 'required': False}], 'description': 'Run a single prediction on the model (idempotent creation).', 'operationId': 'predict_idempotent_predictions__prediction_id__put', 'requestBody': {'content': {'application/json': {'schema': {'allOf': [{'$ref': '#/components/schemas/PredictionRequest'}], 'title': 'Prediction Request'}}}, 'required': True}}}, '/predictions/{prediction_id}/cancel': {'post': {'summary': 'Cancel', 'responses': {'200': {'content': {'application/json': {'schema': {'title': 'Response Cancel Predictions  Prediction Id  Cancel Post'}}}, 'description': 'Successful Response'}, '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}, 'description': 'Validation Error'}}, 'parameters': [{'in': 'path', 'name': 'prediction_id', 'schema': {'type': 'string', 'title': 'Prediction ID'}, 'required': True}], 'description': 'Cancel a running prediction', 'operationId': 'cancel_predictions__prediction_id__cancel_post'}}}, 'openapi': '3.0.2', 'components': {'schemas': {'Input': {'type': 'object', 'title': 'Input', 'properties': {'seed': {'type': 'integer', 'title': 'Seed', 'x-order': 6, 'description': 'Fix the random seed for reproducibility'}, 'image': {'type': 'string', 'title': 'Image', 'format': 'uri', 'x-order': 0, 'description': 'An image of a person to be converted to a sticker'}, 'steps': {'type': 'integer', 'title': 'Steps', 'default': 20, 'x-order': 5}, 'width': {'type': 'integer', 'title': 'Width', 'default': 1024, 'x-order': 3}, 'height': {'type': 'integer', 'title': 'Height', 'default': 1024, 'x-order': 4}, 'prompt': {'type': 'string', 'title': 'Prompt', 'default': 'a person', 'x-order': 1}, 'upscale': {'type': 'boolean', 'title': 'Upscale', 'default': False, 'x-order': 11, 'description': '2x upscale the sticker'}, 'upscale_steps': {'type': 'integer', 'title': 'Upscale Steps', 'default': 10, 'x-order': 12, 'description': 'Number of steps to upscale'}, 'negative_prompt': {'type': 'string', 'title': 'Negative Prompt', 'default': '', 'x-order': 2, 'description': 'Things you do not want in the image'}, 'prompt_strength': {'type': 'number', 'title': 'Prompt Strength', 'default': 7, 'x-order': 7, 'description': 'Strength of the prompt. This is the CFG scale, higher numbers lead to stronger prompt, lower numbers will keep more of a likeness to the original.'}, 'ip_adapter_noise': {'type': 'number', 'title': 'Ip Adapter Noise', 'default': 0.5, 'maximum': 1, 'minimum': 0, 'x-order': 10, 'description': 'How much noise is added to the IP adapter input'}, 'ip_adapter_weight': {'type': 'number', 'title': 'Ip Adapter Weight', 'default': 0.2, 'maximum': 1, 'minimum': 0, 'x-order': 9, 'description': 'How much the IP adapter will influence the image'}, 'instant_id_strength': {'type': 'number', 'title': 'Instant Id Strength', 'default': 1, 'maximum': 1, 'minimum': 0, 'x-order': 8, 'description': 'How strong the InstantID will be.'}}}, 'Output': {'type': 'array', 'items': {'type': 'string', 'format': 'uri'}, 'title': 'Output'}, 'Status': {'enum': ['starting', 'processing', 'succeeded', 'canceled', 'failed'], 'type': 'string', 'title': 'Status', 'description': 'An enumeration.'}, 'WebhookEvent': {'enum': ['start', 'output', 'logs', 'completed'], 'type': 'string', 'title': 'WebhookEvent', 'description': 'An enumeration.'}, 'ValidationError': {'type': 'object', 'title': 'ValidationError', 'required': ['loc', 'msg', 'type'], 'properties': {'loc': {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}, 'title': 'Location'}, 'msg': {'type': 'string', 'title': 'Message'}, 'type': {'type': 'string', 'title': 'Error Type'}}}, 'PredictionRequest': {'type': 'object', 'title': 'PredictionRequest', 'properties': {'id': {'type': 'string', 'title': 'Id'}, 'input': {'$ref': '#/components/schemas/Input'}, 'webhook': {'type': 'string', 'title': 'Webhook', 'format': 'uri', 'maxLength': 65536, 'minLength': 1}, 'created_at': {'type': 'string', 'title': 'Created At', 'format': 'date-time'}, 'output_file_prefix': {'type': 'string', 'title': 'Output File Prefix'}, 'webhook_events_filter': {'type': 'array', 'items': {'$ref': '#/components/schemas/WebhookEvent'}, 'default': ['start', 'output', 'logs', 'completed']}}}, 'PredictionResponse': {'type': 'object', 'title': 'PredictionResponse', 'properties': {'id': {'type': 'string', 'title': 'Id'}, 'logs': {'type': 'string', 'title': 'Logs', 'default': ''}, 'error': {'type': 'string', 'title': 'Error'}, 'input': {'$ref': '#/components/schemas/Input'}, 'output': {'$ref': '#/components/schemas/Output'}, 'status': {'$ref': '#/components/schemas/Status'}, 'metrics': {'type': 'object', 'title': 'Metrics'}, 'version': {'type': 'string', 'title': 'Version'}, 'created_at': {'type': 'string', 'title': 'Created At', 'format': 'date-time'}, 'started_at': {'type': 'string', 'title': 'Started At', 'format': 'date-time'}, 'completed_at': {'type': 'string', 'title': 'Completed At', 'format': 'date-time'}}}, 'HTTPValidationError': {'type': 'object', 'title': 'HTTPValidationError', 'properties': {'detail': {'type': 'array', 'items': {'$ref': '#/components/schemas/ValidationError'}, 'title': 'Detail'}}}}}}
model_id = 'fofr/face-to-sticker'
model_version = '764d4827ea159608a07cdde8ddf1c6000019627515eb02b6b449695fd547e5ef'
model_info = {'cover_image_url': 'https://replicate.delivery/pbxt/RZzqVdLsqSZgHtEefD00iMK8VuDif6iVmXlSbNeiAShPuHtJB/ComfyUI_00002_.png', 'created_at': '2024-02-28T15:14:15.687345Z', 'default_example': {'completed_at': '2024-02-28T17:27:00.231622Z', 'created_at': '2024-02-28T17:25:26.718692Z', 'error': None, 'id': 'qqentxlbvmryks22glbxjiw2za', 'input': {'image': 'https://replicate.delivery/pbxt/KU1AG0cit5nc3xIG1BBZ6DKkhunvvGsZXmEZzuW9HPYVkj8o/MTk4MTczMTkzNzI1Mjg5NjYy.webp', 'steps': 20, 'width': 1024, 'height': 1024, 'prompt': 'arnold', 'upscale': False, 'upscale_steps': 10, 'negative_prompt': '', 'prompt_strength': 4.5, 'ip_adapter_noise': 0.5, 'ip_adapter_weight': 0.2, 'instant_id_strength': 0.7}, 'logs': "Random seed set to: 966518876\nChecking inputs\n✅ /tmp/inputs/input.webp\n====================================\nRunning workflow\ngot prompt\nExecuting node 22, title: Load Image, class type: LoadImage\nExecuting node 25, title: AIO Aux Preprocessor, class type: AIO_Preprocessor\nExecuting node 47, title: Preview Image, class type: PreviewImage\nExecuting node 28, title: Control Net Stacker, class type: Control Net Stacker\nExecuting node 2, title: Efficient Loader, class type: Efficient Loader\nRequested to load SDXLClipModel\nLoading 1 new model\n----------------------------------------\n\x1b[36mEfficient Loader Models Cache:\x1b[0m\nCkpt:\n[1] albedobaseXL_v13\nLora:\n[1] base_ckpt: albedobaseXL_v13\nlora(mod,clip): StickersRedmond(1,1)\nExecuting node 41, title: Apply InstantID, class type: ApplyInstantID\n\x1b[33mINFO: the IPAdapter reference image is not a square, CLIPImageProcessor will resize and crop it at the center. If the main focus of the picture is not in the middle the result might not be what you are expecting.\x1b[0m\nExecuting node 43, title: Apply IPAdapter FaceID, class type: IPAdapterApplyFaceID\nExecuting node 4, title: KSampler (Efficient), class type: KSampler (Efficient)\nRequested to load SDXL\nRequested to load ControlNet\nRequested to load ControlNet\nLoading 3 new models\n  0%|          | 0/20 [00:00<?, ?it/s]\n  5%|▌         | 1/20 [00:00<00:08,  2.32it/s]\n 10%|█         | 2/20 [00:00<00:07,  2.28it/s]\n 15%|█▌        | 3/20 [00:01<00:07,  2.28it/s]\n 20%|██        | 4/20 [00:01<00:07,  2.27it/s]\n 25%|██▌       | 5/20 [00:02<00:06,  2.27it/s]\n 30%|███       | 6/20 [00:02<00:06,  2.31it/s]\n 35%|███▌      | 7/20 [00:03<00:05,  2.34it/s]\n 40%|████      | 8/20 [00:03<00:05,  2.35it/s]\n 45%|████▌     | 9/20 [00:03<00:04,  2.36it/s]\n 50%|█████     | 10/20 [00:04<00:04,  2.37it/s]\n 55%|█████▌    | 11/20 [00:04<00:03,  2.38it/s]\n 60%|██████    | 12/20 [00:05<00:03,  2.55it/s]\n 65%|██████▌   | 13/20 [00:05<00:02,  2.68it/s]\n 70%|███████   | 14/20 [00:05<00:02,  2.78it/s]\n 75%|███████▌  | 15/20 [00:06<00:01,  2.85it/s]\n 80%|████████  | 16/20 [00:06<00:01,  2.91it/s]\n 85%|████████▌ | 17/20 [00:06<00:01,  2.95it/s]\n 90%|█████████ | 18/20 [00:07<00:00,  2.99it/s]\n 95%|█████████▌| 19/20 [00:07<00:00,  3.05it/s]\n100%|██████████| 20/20 [00:07<00:00,  3.13it/s]\n100%|██████████| 20/20 [00:07<00:00,  2.63it/s]\nExecuting node 5, title: Save Image, class type: SaveImage\nExecuting node 9, title: 🧹BRIA RMBG, class type: BRIA_RMBG_Zho\nExecuting node 10, title: Save Image, class type: SaveImage\nPrompt executed in 32.53 seconds\noutputs:  {'47': {'images': [{'filename': 'ComfyUI_temp_epfle_00001_.png', 'subfolder': '', 'type': 'temp'}]}, '4': {'images': []}, '5': {'images': [{'filename': 'ComfyUI_00001_.png', 'subfolder': '', 'type': 'output'}]}, '10': {'images': [{'filename': 'ComfyUI_00002_.png', 'subfolder': '', 'type': 'output'}]}}\n====================================\nContents of /tmp/outputs:\nComfyUI_00001_.png\nComfyUI_00002_.png", 'metrics': {'predict_time': 35.214478, 'total_time': 93.51293}, 'output': ['https://replicate.delivery/pbxt/xvqWvV3152KsEZh4fWdR9yMeXWs2SO1K9Ozgh3f91vHF3j2kA/ComfyUI_00001_.png', 'https://replicate.delivery/pbxt/RZzqVdLsqSZgHtEefD00iMK8VuDif6iVmXlSbNeiAShPuHtJB/ComfyUI_00002_.png'], 'started_at': '2024-02-28T17:26:25.017144Z', 'status': 'succeeded', 'urls': {'get': 'https://api.replicate.com/v1/predictions/qqentxlbvmryks22glbxjiw2za', 'cancel': 'https://api.replicate.com/v1/predictions/qqentxlbvmryks22glbxjiw2za/cancel'}, 'model': 'fofr/face-to-sticker', 'version': 'a99a32fdaa9a9650cfc7900d54323d0d247dac69f7abb05eac0e742687a25662', 'webhook_completed': None}, 'description': 'Turn a face into a sticker', 'github_url': 'https://github.com/fofr/cog-face-to-sticker', 'latest_version': {'id': '764d4827ea159608a07cdde8ddf1c6000019627515eb02b6b449695fd547e5ef', 'created_at': '2024-03-01T11:30:59.317091Z', 'cog_version': '0.8.6', 'openapi_schema': {'info': {'title': 'Cog', 'version': '0.1.0'}, 'paths': {'/': {'get': {'summary': 'Root', 'responses': {'200': {'content': {'application/json': {'schema': {'title': 'Response Root  Get'}}}, 'description': 'Successful Response'}}, 'operationId': 'root__get'}}, '/shutdown': {'post': {'summary': 'Start Shutdown', 'responses': {'200': {'content': {'application/json': {'schema': {'title': 'Response Start Shutdown Shutdown Post'}}}, 'description': 'Successful Response'}}, 'operationId': 'start_shutdown_shutdown_post'}}, '/predictions': {'post': {'summary': 'Predict', 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/PredictionResponse'}}}, 'description': 'Successful Response'}, '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}, 'description': 'Validation Error'}}, 'parameters': [{'in': 'header', 'name': 'prefer', 'schema': {'type': 'string', 'title': 'Prefer'}, 'required': False}], 'description': 'Run a single prediction on the model', 'operationId': 'predict_predictions_post', 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/PredictionRequest'}}}}}}, '/health-check': {'get': {'summary': 'Healthcheck', 'responses': {'200': {'content': {'application/json': {'schema': {'title': 'Response Healthcheck Health Check Get'}}}, 'description': 'Successful Response'}}, 'operationId': 'healthcheck_health_check_get'}}, '/predictions/{prediction_id}': {'put': {'summary': 'Predict Idempotent', 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/PredictionResponse'}}}, 'description': 'Successful Response'}, '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}, 'description': 'Validation Error'}}, 'parameters': [{'in': 'path', 'name': 'prediction_id', 'schema': {'type': 'string', 'title': 'Prediction ID'}, 'required': True}, {'in': 'header', 'name': 'prefer', 'schema': {'type': 'string', 'title': 'Prefer'}, 'required': False}], 'description': 'Run a single prediction on the model (idempotent creation).', 'operationId': 'predict_idempotent_predictions__prediction_id__put', 'requestBody': {'content': {'application/json': {'schema': {'allOf': [{'$ref': '#/components/schemas/PredictionRequest'}], 'title': 'Prediction Request'}}}, 'required': True}}}, '/predictions/{prediction_id}/cancel': {'post': {'summary': 'Cancel', 'responses': {'200': {'content': {'application/json': {'schema': {'title': 'Response Cancel Predictions  Prediction Id  Cancel Post'}}}, 'description': 'Successful Response'}, '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}, 'description': 'Validation Error'}}, 'parameters': [{'in': 'path', 'name': 'prediction_id', 'schema': {'type': 'string', 'title': 'Prediction ID'}, 'required': True}], 'description': 'Cancel a running prediction', 'operationId': 'cancel_predictions__prediction_id__cancel_post'}}}, 'openapi': '3.0.2', 'components': {'schemas': {'Input': {'type': 'object', 'title': 'Input', 'properties': {'seed': {'type': 'integer', 'title': 'Seed', 'x-order': 6, 'description': 'Fix the random seed for reproducibility'}, 'image': {'type': 'string', 'title': 'Image', 'format': 'uri', 'x-order': 0, 'description': 'An image of a person to be converted to a sticker'}, 'steps': {'type': 'integer', 'title': 'Steps', 'default': 20, 'x-order': 5}, 'width': {'type': 'integer', 'title': 'Width', 'default': 1024, 'x-order': 3}, 'height': {'type': 'integer', 'title': 'Height', 'default': 1024, 'x-order': 4}, 'prompt': {'type': 'string', 'title': 'Prompt', 'default': 'a person', 'x-order': 1}, 'upscale': {'type': 'boolean', 'title': 'Upscale', 'default': False, 'x-order': 11, 'description': '2x upscale the sticker'}, 'upscale_steps': {'type': 'integer', 'title': 'Upscale Steps', 'default': 10, 'x-order': 12, 'description': 'Number of steps to upscale'}, 'negative_prompt': {'type': 'string', 'title': 'Negative Prompt', 'default': '', 'x-order': 2, 'description': 'Things you do not want in the image'}, 'prompt_strength': {'type': 'number', 'title': 'Prompt Strength', 'default': 7, 'x-order': 7, 'description': 'Strength of the prompt. This is the CFG scale, higher numbers lead to stronger prompt, lower numbers will keep more of a likeness to the original.'}, 'ip_adapter_noise': {'type': 'number', 'title': 'Ip Adapter Noise', 'default': 0.5, 'maximum': 1, 'minimum': 0, 'x-order': 10, 'description': 'How much noise is added to the IP adapter input'}, 'ip_adapter_weight': {'type': 'number', 'title': 'Ip Adapter Weight', 'default': 0.2, 'maximum': 1, 'minimum': 0, 'x-order': 9, 'description': 'How much the IP adapter will influence the image'}, 'instant_id_strength': {'type': 'number', 'title': 'Instant Id Strength', 'default': 1, 'maximum': 1, 'minimum': 0, 'x-order': 8, 'description': 'How strong the InstantID will be.'}}}, 'Output': {'type': 'array', 'items': {'type': 'string', 'format': 'uri'}, 'title': 'Output'}, 'Status': {'enum': ['starting', 'processing', 'succeeded', 'canceled', 'failed'], 'type': 'string', 'title': 'Status', 'description': 'An enumeration.'}, 'WebhookEvent': {'enum': ['start', 'output', 'logs', 'completed'], 'type': 'string', 'title': 'WebhookEvent', 'description': 'An enumeration.'}, 'ValidationError': {'type': 'object', 'title': 'ValidationError', 'required': ['loc', 'msg', 'type'], 'properties': {'loc': {'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}, 'title': 'Location'}, 'msg': {'type': 'string', 'title': 'Message'}, 'type': {'type': 'string', 'title': 'Error Type'}}}, 'PredictionRequest': {'type': 'object', 'title': 'PredictionRequest', 'properties': {'id': {'type': 'string', 'title': 'Id'}, 'input': {'$ref': '#/components/schemas/Input'}, 'webhook': {'type': 'string', 'title': 'Webhook', 'format': 'uri', 'maxLength': 65536, 'minLength': 1}, 'created_at': {'type': 'string', 'title': 'Created At', 'format': 'date-time'}, 'output_file_prefix': {'type': 'string', 'title': 'Output File Prefix'}, 'webhook_events_filter': {'type': 'array', 'items': {'$ref': '#/components/schemas/WebhookEvent'}, 'default': ['start', 'output', 'logs', 'completed']}}}, 'PredictionResponse': {'type': 'object', 'title': 'PredictionResponse', 'properties': {'id': {'type': 'string', 'title': 'Id'}, 'logs': {'type': 'string', 'title': 'Logs', 'default': ''}, 'error': {'type': 'string', 'title': 'Error'}, 'input': {'$ref': '#/components/schemas/Input'}, 'output': {'$ref': '#/components/schemas/Output'}, 'status': {'$ref': '#/components/schemas/Status'}, 'metrics': {'type': 'object', 'title': 'Metrics'}, 'version': {'type': 'string', 'title': 'Version'}, 'created_at': {'type': 'string', 'title': 'Created At', 'format': 'date-time'}, 'started_at': {'type': 'string', 'title': 'Started At', 'format': 'date-time'}, 'completed_at': {'type': 'string', 'title': 'Completed At', 'format': 'date-time'}}}, 'HTTPValidationError': {'type': 'object', 'title': 'HTTPValidationError', 'properties': {'detail': {'type': 'array', 'items': {'$ref': '#/components/schemas/ValidationError'}, 'title': 'Detail'}}}}}}}, 'license_url': 'https://github.com/fofr/cog-face-to-sticker/blob/main/weights_licenses.md', 'name': 'face-to-sticker', 'owner': 'fofr', 'paper_url': None, 'run_count': 462551, 'url': 'https://replicate.com/fofr/face-to-sticker', 'visibility': 'public', 'hardware': 'Nvidia A40 (Large) GPU'}
